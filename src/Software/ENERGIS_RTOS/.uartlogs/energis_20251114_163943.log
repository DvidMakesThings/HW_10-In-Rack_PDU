=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2025.11.14 16:39:51 =~=~=~=~=~=~=~=~=~=~=~=

[INFO] ========================================
[INFO]   ENERGIS PDU - System Bring-Alive
[INFO] ========================================
[INFO] Firmware: 1.0.0
[INFO] Serial: SN-0167662
[INFO] ========================================

[INFO] [InitTask] ===== Phase 1: Hardware Init =====
[INFO] [InitTask] GPIO configured
[INFO] [InitTask] I2C buses initialized
[INFO] [InitTask] SPI initialized for W5500
[INFO] [InitTask] ADC initialized
[INFO] [CAT24C512] Driver initialized (I2C1: SDA=2, SCL=3)
	[ECHO] [MCP] init 0x20 OK
	[ECHO] [MCP] init 0x21 OK
	[ECHO] [MCP] init 0x23 OK

[INFO] [InitTask] ===== Phase 2: Peripheral Probing =====
[INFO] [InitTask] ✓ Relay MCP23017 detected at 0x20
[INFO] [InitTask] ✓ Display MCP23017 detected at 0x21
[INFO] [InitTask] ✓ Selection MCP23017 detected at 0x23
[INFO] [InitTask] ✓ All MCP23017s detected
[INFO] [InitTask] ✓ EEPROM CAT24C512 detected at 0x50

[INFO] [InitTask] ===== Phase 3: Subsystem Bring-up (deterministic) =====
[INFO] [InitTask] LoggerTask ready
[INFO] [Console] Task initialized (polling USB-CDC @ 10ms)
[INFO] [InitTask] ConsoleTask ready
[INFO] [Storage] Task initialized
	[ECHO] [Storage] Task started
[INFO] [Storage] Magic value verified
[INFO] [Storage] Loaded user prefs from EEPROM
[INFO] [Storage] Config loaded from EEPROM
[INFO] [Storage] Config ready
[INFO] [InitTask] StorageTask ready
[INFO] [InitTask] ButtonTask ready
[INFO] [Net] Task created successfully
[INFO] [InitTask] NetTask ready
[INFO] [MeterTask]  MeterTask started
[INFO] [InitTask] MeterTask ready

[INFO] [InitTask] ===== Phase 4: Configuration Load =====
[INFO] [InitTask] Storage config ready
[INFO] [Net] Task started
[INFO] [InitTask] Saved Network config: 
[INFO]                  IP  : 192.168.0.22
[INFO]                  SM  : 255.255.255.0
[INFO]                  GW  : 192.168.0.1
[INFO]                  DNS : 8.8.8.8

[INFO] [InitTask] ===== Finalization: entering =====
[INFO] [Health] LoggerTask Registered on ID = 0, Handle = 2000A740
[INFO] [Health] 	Required = YES
[INFO] [Health] ConsoleTask Registered on ID = 1, Handle = 2000BCC0
[INFO] [Health] 	Required = YES
[INFO] [Health] StorageTask Registered on ID = 2, Handle = 2000DDB0
[INFO] [Health] 	Required = YES
[INFO] [Health] ButtonTask Registered on ID = 3, Handle = 2000F030
[INFO] [Health] 	Required = YES
[INFO] [Health] NetTask Registered on ID = 5, Handle = 200130B0
[INFO] [Health] 	Required = YES
[INFO] [Health] MeterTask Registered on ID = 6, Handle = 20013C00
[INFO] [Health] 	Required = YES
[INFO] [Health] task started, cfg: period=250 ms, warmup=2000 ms, silence=3000 ms, req_mask=0x0000006f

[INFO] [InitTask] System bring-alive complete =====

[INFO] ==========================================
[INFO]                SYSTEM READY               
[INFO] ==========================================

[INFO] [ETH] Hardware initialized (SPI @ 62 MHz)
[INFO] [Health] Waiting warmup: 1750 ms remain
	[ECHO] 
	[ECHO] === ENERGIS Console Ready ===
	[ECHO] Type HELP for available commands
	[ECHO] 
[INFO] [Health] Waiting warmup: 1500 ms remain
[INFO] [Health] Waiting warmup: 1250 ms remain
[INFO] [Health] Waiting warmup: 1000 ms remain
[INFO] [Health] Waiting warmup: 750 ms remain
[INFO] [Health] Waiting warmup: 500 ms remain
[INFO] [ETH] PHY link established
[INFO] [ETH] Chip initialized
[INFO] [Net] Ethernet up, starting HTTP server
[INFO] [SERVER] Listening on port 80
[INFO] [SNMP] ready on UDP socket 1, port 161
[INFO] [SNMP] Agent running on UDP/161 (sock 1)
[INFO] [Health] Waiting warmup: 250 ms remain
[WARNING] [Health] ########### GRACE PERIOD ENDED ############
[WARNING] [Health] ############# ARMING WATCHDOG #############
[INFO] [Health] 	All required tasks confirmed
[INFO] [Health] 	Task Timeout = 3000 ms

	[ECHO] NETWORK INFORMATION:
	[ECHO] [ETH] Network Configuration:
	[ECHO] [ETH]  MAC  : 02:45:4E:0C:7C:AF
	[ECHO] [ETH]  IP   : 192.168.0.22
	[ECHO] [ETH]  Mask : 255.255.255.0
	[ECHO] [ETH]  GW   : 192.168.0.1
	[ECHO] [ETH]  DNS  : 8.8.8.8
	[ECHO] [ETH]  DHCP : Disabled

