<map id="mcp_relay_read_pin" name="mcp_relay_read_pin">
<area shape="rect" id="Node000001" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="1136,448,1274,475"/>
<area shape="rect" id="Node000002" href="$group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="710,144,834,171"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="1179,438,1137,398,1087,357,1035,327,991,310,947,291,898,255,883,236,874,218,866,201,850,185,830,174,833,169,854,181,871,198,879,216,887,233,902,251,950,286,993,305,1037,322,1090,352,1141,394,1182,435"/>
<area shape="rect" id="Node000007" href="$group__snmp2.html#ga0771afab8e4d202bbc5540825f2afc3b" title="Read all 8 relay states and return as a bitmask." alt="" coords="949,869,1039,896"/>
<area shape="poly" id="edge6_Node000001_Node000007" title=" " alt="" coords="1193,490,1005,870,1000,868,1188,487"/>
<area shape="rect" id="Node000010" href="$group__snmp2.html#ga8fce002de43387ac46d4fce1257762dc" title="Read relay state for channel ch (0..7) into SNMP buffer." alt="" coords="908,1072,1081,1099"/>
<area shape="poly" id="edge9_Node000001_Node000010" title=" " alt="" coords="1201,491,1163,669,1131,789,1091,909,1046,1004,1006,1073,1002,1070,1041,1002,1086,907,1126,788,1158,668,1196,490"/>
<area shape="rect" id="Node000019" href="$group__webui5.html#gabec26dab8e118ff845c2fde12dc885cf" title="Handles the HTTP request for the status page." alt="" coords="918,136,1070,163"/>
<area shape="poly" id="edge18_Node000001_Node000019" title=" " alt="" coords="1197,433,1185,382,1164,316,1132,248,1111,217,1087,189,1069,175,1049,166,1052,161,1072,171,1090,185,1115,214,1137,246,1169,315,1190,380,1202,432"/>
<area shape="rect" id="Node000022" href="$group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="927,199,1061,241"/>
<area shape="poly" id="edge22_Node000001_Node000022" title=" " alt="" coords="1188,435,1147,363,1119,322,1086,285,1061,262,1034,244,1037,240,1064,258,1090,281,1123,319,1152,360,1193,433"/>
<area shape="rect" id="Node000025" href="$group__driver3.html#ga0b3a5c410541deaf144c3e33d4b65175" title="Poll a single channel for power measurements." alt="" coords="153,43,284,69"/>
<area shape="poly" id="edge26_Node000001_Node000025" title=" " alt="" coords="1199,433,1191,370,1173,288,1158,245,1139,202,1116,162,1086,126,1049,90,1015,62,981,42,947,27,911,17,871,11,773,8,573,8,493,12,414,21,281,45,280,39,413,15,493,6,573,3,773,3,871,6,912,12,949,22,984,37,1018,58,1053,86,1090,122,1120,159,1144,199,1163,243,1178,287,1197,369,1205,432"/>
<area shape="rect" id="Node000026" href="$group__driver3.html#ga76f09e4482db113563628126492d3200" title="Refresh power measurements for all channels." alt="" coords="926,1123,1062,1149"/>
<area shape="poly" id="edge28_Node000001_Node000026" title=" " alt="" coords="1205,490,1197,622,1178,808,1163,904,1144,991,1120,1063,1106,1091,1090,1113,1064,1130,1061,1125,1086,1109,1101,1088,1115,1061,1139,990,1158,903,1173,808,1192,621,1200,490"/>
<area shape="rect" id="Node000027" href="$group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="900,499,1088,525"/>
<area shape="poly" id="edge29_Node000001_Node000027" title=" " alt="" coords="1132,481,1053,501,1052,495,1131,476"/>
<area shape="rect" id="Node000030" href="$group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="692,195,852,221"/>
<area shape="poly" id="edge46_Node000001_Node000030" title=" " alt="" coords="1134,446,1079,426,1017,400,954,365,898,322,881,299,874,277,867,256,850,235,832,224,835,220,854,231,872,253,879,275,886,297,902,318,957,361,1019,395,1081,421,1136,440"/>
<area shape="rect" id="Node000041" href="$group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="939,1173,1049,1200"/>
<area shape="poly" id="edge47_Node000001_Node000041" title=" " alt="" coords="1206,490,1199,631,1181,833,1166,936,1147,1031,1122,1109,1107,1140,1090,1163,1072,1177,1051,1185,1049,1180,1069,1172,1086,1159,1102,1137,1117,1107,1142,1030,1161,935,1176,832,1194,631,1200,490"/>
<area shape="rect" id="Node000042" href="$group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="911,448,1077,475"/>
<area shape="poly" id="edge48_Node000001_Node000042" title=" " alt="" coords="1121,464,1078,464,1078,459,1121,459"/>
<area shape="rect" id="Node000003" href="$group__driver1.html#ga60c16d2b5323dc486ad6208a244ed7ae" title="Unified GPIO interrupt handler for PLUS, MINUS, and SET buttons." alt="" coords="535,119,613,145"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="694,150,613,140,614,134,695,145"/>
<area shape="rect" id="Node000004" href="$group__driver1.html#ga71b68eb02e1df1dada387c9fbb7bbb37" title="Initialize button GPIO interrupts and synchronize UI selection." alt="" coords="336,119,456,145"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="519,135,457,135,457,129,519,129"/>
<area shape="rect" id="Node000005" href="$group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="180,119,258,145"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="321,135,258,135,258,129,321,129"/>
<area shape="rect" id="Node000006" href="$group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="5,144,102,171"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="165,143,103,153,102,147,165,138"/>
<area shape="rect" id="Node000008" href="$group__snmp2.html#gaae5465f6b70d234aa38096a810f5fad8" title="SNMP getter for “all off” OID. Returns the same bitmask as get_allState()." alt="" coords="734,920,810,947"/>
<area shape="poly" id="edge7_Node000007_Node000008" title=" " alt="" coords="934,899,811,927,810,922,933,894"/>
<area shape="rect" id="Node000009" href="$group__snmp2.html#ga4ef4a107594909096b39054767b014f4" title="SNMP getter for “all on” OID. Returns the same bitmask as get_allState()." alt="" coords="734,869,810,896"/>
<area shape="poly" id="edge8_Node000007_Node000009" title=" " alt="" coords="933,885,811,885,811,880,933,880"/>
<area shape="rect" id="Node000011" href="$group__snmp2.html#gade7df1ea335261e38c6b1c2a61ed2ded" title="Get the state of the outlet (relay) as an integer." alt="" coords="710,1021,834,1048"/>
<area shape="poly" id="edge10_Node000010_Node000011" title=" " alt="" coords="917,1071,833,1051,834,1046,918,1065"/>
<area shape="rect" id="Node000012" href="$group__snmp2.html#gabbff421a9229e31a0cb05761892eec6e" title="Get the state of outlet 2 (relay) as an integer." alt="" coords="710,1072,834,1099"/>
<area shape="poly" id="edge11_Node000010_Node000012" title=" " alt="" coords="892,1088,834,1088,834,1083,892,1083"/>
<area shape="rect" id="Node000013" href="$group__snmp2.html#gae617a671308e5f001c463b793cfe7a03" title="Get the state of outlet 3 (relay) as an integer." alt="" coords="710,1123,834,1149"/>
<area shape="poly" id="edge12_Node000010_Node000013" title=" " alt="" coords="918,1105,834,1125,833,1119,917,1100"/>
<area shape="rect" id="Node000014" href="$group__snmp2.html#gac540752940c1f251d408f0954c14364d" title="Get the state of outlet 4 (relay) as an integer." alt="" coords="710,1173,834,1200"/>
<area shape="poly" id="edge13_Node000010_Node000014" title=" " alt="" coords="912,1107,901,1113,887,1125,878,1137,869,1150,853,1164,830,1175,827,1170,851,1159,865,1147,874,1134,883,1121,899,1108,910,1103"/>
<area shape="rect" id="Node000015" href="$group__snmp2.html#ga03c6e3cdf72aa5de6d3b9c1fc220add0" title="Get the state of outlet 5 (relay) as an integer." alt="" coords="710,1224,834,1251"/>
<area shape="poly" id="edge14_Node000010_Node000015" title=" " alt="" coords="907,1109,902,1113,891,1124,884,1136,878,1162,872,1188,865,1201,854,1214,835,1226,833,1221,850,1210,861,1198,867,1186,873,1160,879,1134,886,1121,898,1109,904,1104"/>
<area shape="rect" id="Node000016" href="$group__snmp2.html#ga62abeab3df59bba29de074d147e280f2" title="Get the state of outlet 6 (relay) as an integer." alt="" coords="710,1275,834,1301"/>
<area shape="poly" id="edge15_Node000010_Node000016" title=" " alt="" coords="906,1109,902,1112,888,1131,881,1149,878,1186,876,1225,869,1245,854,1265,835,1277,832,1273,850,1261,864,1242,871,1224,873,1186,875,1147,883,1128,898,1109,902,1105"/>
<area shape="rect" id="Node000017" href="$group__snmp2.html#ga45aa10db7cd7f4c2a207b81312c7a95f" title="Get the state of outlet 7 (relay) as an integer." alt="" coords="710,1325,834,1352"/>
<area shape="poly" id="edge16_Node000010_Node000017" title=" " alt="" coords="905,1110,902,1112,884,1137,877,1161,876,1186,878,1211,881,1237,880,1263,872,1289,854,1315,835,1329,832,1324,850,1311,867,1287,874,1262,875,1237,873,1212,870,1186,872,1160,880,1135,898,1109,901,1106"/>
<area shape="rect" id="Node000018" href="$group__snmp2.html#ga219cf7f985467e92225ffcd452f81464" title="Get the state of outlet 8 (relay) as an integer." alt="" coords="710,971,834,997"/>
<area shape="poly" id="edge17_Node000010_Node000018" title=" " alt="" coords="956,1066,907,1039,851,1012,820,1000,822,995,853,1007,909,1034,958,1061"/>
<area shape="rect" id="Node000020" href="$group__webui3.html#ga52702a4dcaff4540a9ddd10e4d5f4525" title="Processes incoming HTTP requests." alt="" coords="504,169,644,196"/>
<area shape="poly" id="edge19_Node000019_Node000020" title=" " alt="" coords="951,132,898,111,832,94,796,89,761,89,726,94,693,105,677,116,669,130,660,145,645,159,624,171,621,166,642,155,656,141,664,127,674,112,690,100,725,89,760,84,797,84,832,89,899,106,953,127"/>
<area shape="rect" id="Node000021" href="$group__main02.html#gad25e95c5993e865b3f941472b7a328e0" title="Core 1 task for handling SNMP and HTTP server." alt="" coords="354,169,439,196"/>
<area shape="poly" id="edge20_Node000020_Node000021" title=" " alt="" coords="489,185,439,185,439,180,489,180"/>
<area shape="poly" id="edge21_Node000021_Node000006" title=" " alt="" coords="338,181,102,164,103,158,338,176"/>
<area shape="rect" id="Node000023" href="$group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="508,220,640,247"/>
<area shape="poly" id="edge23_Node000022_Node000023" title=" " alt="" coords="927,194,898,177,884,165,875,153,866,143,851,134,807,119,770,112,734,117,693,134,676,150,669,169,662,189,645,210,626,222,623,217,642,206,657,187,664,167,672,147,690,130,733,111,770,107,808,114,853,130,869,139,879,149,888,161,902,173,930,189"/>
<area shape="rect" id="Node000024" href="$group__uart.html#ga6c04950ec7c317f61e910caa14e9e893" title="Main loop for reading and processing UART commands." alt="" coords="150,220,288,247"/>
<area shape="poly" id="edge24_Node000023_Node000024" title=" " alt="" coords="493,236,289,236,289,231,493,231"/>
<area shape="poly" id="edge25_Node000024_Node000006" title=" " alt="" coords="173,215,83,174,86,169,175,211"/>
<area shape="poly" id="edge27_Node000025_Node000006" title=" " alt="" coords="184,80,78,146,75,141,181,76"/>
<area shape="poly" id="edge30_Node000027_Node000002" title=" " alt="" coords="900,491,898,488,873,450,864,411,866,373,873,335,880,297,882,260,873,222,850,184,833,171,836,167,854,181,878,220,887,259,885,298,878,336,871,373,869,411,878,448,902,485,904,487"/>
<area shape="rect" id="Node000028" href="$group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="694,347,850,373"/>
<area shape="poly" id="edge31_Node000027_Node000028" title=" " alt="" coords="904,493,898,489,886,476,879,463,873,437,867,411,861,399,850,387,833,376,836,372,854,383,865,396,872,410,878,436,884,461,891,473,902,485,907,489"/>
<area shape="rect" id="Node000029" href="$group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="705,803,839,845"/>
<area shape="poly" id="edge33_Node000027_Node000029" title=" " alt="" coords="988,541,972,593,944,660,905,730,881,763,854,793,838,804,835,800,850,789,877,760,901,728,940,658,967,592,983,539"/>
<area shape="poly" id="edge35_Node000027_Node000030" title=" " alt="" coords="901,491,898,488,876,456,868,424,868,392,873,360,877,329,878,298,870,266,850,235,836,224,839,220,854,232,875,264,883,297,883,329,878,361,873,392,873,423,881,454,902,485,904,487"/>
<area shape="rect" id="Node000031" href="$group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="734,499,810,525"/>
<area shape="poly" id="edge36_Node000027_Node000031" title=" " alt="" coords="885,515,811,515,811,509,885,509"/>
<area shape="rect" id="Node000032" href="$group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="734,600,810,627"/>
<area shape="poly" id="edge37_Node000027_Node000032" title=" " alt="" coords="958,536,909,563,853,590,811,605,810,600,851,586,907,559,956,531"/>
<area shape="rect" id="Node000033" href="$group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="710,651,834,677"/>
<area shape="poly" id="edge38_Node000027_Node000033" title=" " alt="" coords="973,539,921,590,889,617,853,641,828,652,826,648,851,636,885,613,918,586,969,535"/>
<area shape="rect" id="Node000034" href="$group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="710,701,834,728"/>
<area shape="poly" id="edge39_Node000027_Node000034" title=" " alt="" coords="981,540,931,615,895,656,853,692,831,703,829,698,851,687,891,652,927,612,976,537"/>
<area shape="rect" id="Node000035" href="$group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="710,549,834,576"/>
<area shape="poly" id="edge40_Node000027_Node000035" title=" " alt="" coords="918,532,834,551,833,546,917,527"/>
<area shape="rect" id="Node000036" href="$group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="710,752,834,779"/>
<area shape="poly" id="edge41_Node000027_Node000036" title=" " alt="" coords="986,541,967,585,939,639,901,694,879,720,854,742,834,754,831,749,850,738,875,716,897,691,934,636,962,583,981,539"/>
<area shape="rect" id="Node000037" href="$group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="710,245,834,272"/>
<area shape="poly" id="edge42_Node000027_Node000037" title=" " alt="" coords="901,491,898,488,880,463,872,437,870,411,873,386,875,360,874,335,867,311,850,286,832,273,835,269,854,282,872,308,880,335,881,361,878,386,876,411,877,436,884,460,902,485,905,488"/>
<area shape="rect" id="Node000038" href="$group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="710,296,834,323"/>
<area shape="poly" id="edge43_Node000027_Node000038" title=" " alt="" coords="902,492,898,488,883,469,875,450,873,411,871,373,864,355,850,337,832,324,835,320,854,333,869,352,876,372,878,411,881,449,888,467,902,485,906,488"/>
<area shape="rect" id="Node000039" href="$group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="710,397,834,424"/>
<area shape="poly" id="edge44_Node000027_Node000039" title=" " alt="" coords="910,495,899,489,883,476,874,463,865,450,851,438,827,427,830,422,853,434,869,447,878,460,887,473,901,484,912,490"/>
<area shape="rect" id="Node000040" href="$group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="710,448,834,475"/>
<area shape="poly" id="edge45_Node000027_Node000040" title=" " alt="" coords="917,497,833,478,834,473,918,492"/>
<area shape="poly" id="edge32_Node000028_Node000020" title=" " alt="" coords="694,340,690,337,677,320,669,304,665,272,660,241,654,225,642,210,626,199,629,194,646,206,658,223,666,239,670,271,674,303,681,318,694,333,697,336"/>
<area shape="poly" id="edge34_Node000029_Node000023" title=" " alt="" coords="691,794,689,792,664,746,642,680,623,601,607,516,585,353,574,247,579,247,590,352,612,515,628,600,647,679,669,744,694,789,695,791"/>
<area shape="poly" id="edge49_Node000042_Node000002" title=" " alt="" coords="971,437,935,385,898,321,884,281,880,247,873,216,864,201,850,185,833,173,836,168,854,181,868,198,877,214,885,246,890,280,902,319,939,382,975,434"/>
<area shape="poly" id="edge50_Node000042_Node000028" title=" " alt="" coords="945,443,899,420,875,403,851,388,823,376,825,371,853,383,878,399,901,415,948,439"/>
<area shape="poly" id="edge51_Node000042_Node000029" title=" " alt="" coords="904,486,902,488,878,526,868,562,870,599,876,636,883,674,885,712,877,752,854,792,841,805,838,801,850,789,872,750,880,712,878,674,871,637,864,599,863,562,873,523,898,485,900,482"/>
<area shape="poly" id="edge52_Node000042_Node000030" title=" " alt="" coords="929,443,912,433,898,419,882,394,875,370,875,324,874,279,866,257,850,235,835,224,838,220,854,231,871,255,879,278,880,324,881,369,887,392,902,416,916,429,932,439"/>
<area shape="poly" id="edge53_Node000042_Node000031" title=" " alt="" coords="918,481,811,506,810,501,917,476"/>
<area shape="poly" id="edge54_Node000042_Node000032" title=" " alt="" coords="907,485,902,489,891,500,884,512,878,538,872,564,865,577,854,590,833,603,811,610,810,605,831,598,850,586,861,574,867,562,873,536,879,510,886,497,898,485,904,480"/>
<area shape="poly" id="edge55_Node000042_Node000033" title=" " alt="" coords="906,485,902,488,888,507,881,525,878,562,876,601,869,621,854,641,835,653,832,649,850,637,864,618,871,600,873,562,875,523,883,504,898,485,902,481"/>
<area shape="poly" id="edge56_Node000042_Node000034" title=" " alt="" coords="905,486,902,488,884,513,877,537,876,562,878,587,881,613,880,639,872,665,854,691,835,705,832,700,850,687,867,663,874,638,875,613,873,588,870,562,872,536,880,511,898,485,901,482"/>
<area shape="poly" id="edge57_Node000042_Node000035" title=" " alt="" coords="912,483,901,489,887,501,878,513,869,526,853,540,830,551,827,546,851,535,865,523,874,510,883,497,899,484,910,479"/>
<area shape="poly" id="edge58_Node000042_Node000036" title=" " alt="" coords="904,486,902,488,881,519,873,550,873,581,878,612,883,644,883,676,875,709,854,742,836,756,833,751,850,738,870,707,878,676,877,645,873,613,868,581,868,549,876,517,898,485,901,482"/>
<area shape="poly" id="edge59_Node000042_Node000037" title=" " alt="" coords="930,443,898,419,885,401,878,384,874,350,870,317,863,302,850,286,833,274,836,270,854,282,868,299,875,316,880,349,884,382,890,399,902,415,933,439"/>
<area shape="poly" id="edge60_Node000042_Node000038" title=" " alt="" coords="935,443,898,419,882,397,874,376,867,356,850,337,832,325,834,321,854,333,871,353,879,374,886,395,902,415,938,439"/>
<area shape="poly" id="edge61_Node000042_Node000039" title=" " alt="" coords="917,447,833,427,834,422,918,441"/>
<area shape="poly" id="edge62_Node000042_Node000040" title=" " alt="" coords="895,464,834,464,834,459,895,459"/>
</map>
