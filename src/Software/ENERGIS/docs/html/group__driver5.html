<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ENERGIS - 8 Channel Managed PDU for 10 Inch Racks: 5. MCP23017 Display Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ENERGIS - 8 Channel Managed PDU for 10 Inch Racks
   </div>
   <div id="projectbrief">A comprehensive power distribution unit for efficient energy management.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__driver5.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title"><ol type="1">
<li>MCP23017 Display Driver </li>
</ol>
<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Implementation for MCP23017 I/O Expander driver on ENERGIS display board.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for 5. MCP23017 Display Driver:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5.png" border="0" usemap="#agroup____driver5" loading="lazy" alt=""/></div>
<map name="agroup____driver5" id="agroup____driver5">
<area shape="rect" title="Implementation for MCP23017 I/O Expander driver on ENERGIS display board." alt="" coords="117,5,266,48"/>
<area shape="rect" href="group__drivers.html" title="All hardware drivers for the Energis PDU." alt="" coords="5,13,69,40"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaba4e8ca33cf356bc41af763ae4aa3310" id="r_gaba4e8ca33cf356bc41af763ae4aa3310"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaba4e8ca33cf356bc41af763ae4aa3310">mcp_lock</a> (void)</td></tr>
<tr class="memitem:ga713d78b9106bd7706abb1ed29d8fad27" id="r_ga713d78b9106bd7706abb1ed29d8fad27"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga713d78b9106bd7706abb1ed29d8fad27">mcp_unlock</a> (void)</td></tr>
<tr class="memitem:ga88ff03a249bfc75eaac4cab1d7955107" id="r_ga88ff03a249bfc75eaac4cab1d7955107"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88ff03a249bfc75eaac4cab1d7955107">i2c_wr</a> (uint8_t reg, uint8_t val)</td></tr>
<tr class="memitem:ga4cde98019aa1b07cd4c5f6bd7929bd8c" id="r_ga4cde98019aa1b07cd4c5f6bd7929bd8c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4cde98019aa1b07cd4c5f6bd7929bd8c">i2c_rd</a> (uint8_t reg, uint8_t *out)</td></tr>
<tr class="memitem:ga51d31ad5757c79b0f72f1e785115efed" id="r_ga51d31ad5757c79b0f72f1e785115efed"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga51d31ad5757c79b0f72f1e785115efed">write_port_from_shadow</a> (uint8_t port_ab)</td></tr>
<tr class="memitem:gad23a5248f3f3fc671c373a437e16e985" id="r_gad23a5248f3f3fc671c373a437e16e985"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad23a5248f3f3fc671c373a437e16e985">mcp_display_init</a> (void)</td></tr>
<tr class="memdesc:gad23a5248f3f3fc671c373a437e16e985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the relay board's MCP23017.  <br /></td></tr>
<tr class="memitem:ga125dff7e60af78727ec7d4377c472499" id="r_ga125dff7e60af78727ec7d4377c472499"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga125dff7e60af78727ec7d4377c472499">mcp_display_write_reg</a> (uint8_t reg, uint8_t value)</td></tr>
<tr class="memdesc:ga125dff7e60af78727ec7d4377c472499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a value to a specified MCP23017 register (guarded).  <br /></td></tr>
<tr class="memitem:ga0fd18363fa5f18fddf814181b0a4c892" id="r_ga0fd18363fa5f18fddf814181b0a4c892"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0fd18363fa5f18fddf814181b0a4c892">mcp_display_read_reg</a> (uint8_t reg)</td></tr>
<tr class="memdesc:ga0fd18363fa5f18fddf814181b0a4c892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a value from a specified MCP23017 register (guarded).  <br /></td></tr>
<tr class="memitem:ga9c72d2272fc0f47e7444780804185ce1" id="r_ga9c72d2272fc0f47e7444780804185ce1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9c72d2272fc0f47e7444780804185ce1">mcp_display_set_direction</a> (uint8_t pin, uint8_t direction)</td></tr>
<tr class="memdesc:ga9c72d2272fc0f47e7444780804185ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the direction of a specific MCP23017 pin.  <br /></td></tr>
<tr class="memitem:ga1f2aea8f1cb5fb271e2b68ab119fa503" id="r_ga1f2aea8f1cb5fb271e2b68ab119fa503"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f2aea8f1cb5fb271e2b68ab119fa503">mcp_display_write_pin</a> (uint8_t pin, uint8_t value)</td></tr>
<tr class="memdesc:ga1f2aea8f1cb5fb271e2b68ab119fa503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a digital value to a specific MCP23017 pin. Uses shadowed whole-port writes under a mutex to avoid races.  <br /></td></tr>
<tr class="memitem:gab5dab0ee57bf9b5391fbf6b96be35677" id="r_gab5dab0ee57bf9b5391fbf6b96be35677"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab5dab0ee57bf9b5391fbf6b96be35677">mcp_display_read_pin</a> (uint8_t pin)</td></tr>
<tr class="memdesc:gab5dab0ee57bf9b5391fbf6b96be35677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the digital value from a specific MCP23017 pin.  <br /></td></tr>
<tr class="memitem:gabab90d2661d617d3ea609d7a3a5a9042" id="r_gabab90d2661d617d3ea609d7a3a5a9042"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabab90d2661d617d3ea609d7a3a5a9042">mcp_display_write_mask</a> (uint8_t port_ab, uint8_t mask, uint8_t value_bits)</td></tr>
<tr class="memdesc:gabab90d2661d617d3ea609d7a3a5a9042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Atomically set/clear a group of bits on a given port from a mask.  <br /></td></tr>
<tr class="memitem:ga39af0b095f233b2e5f7cddb401bd4f85" id="r_ga39af0b095f233b2e5f7cddb401bd4f85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga39af0b095f233b2e5f7cddb401bd4f85">mcp_display_resync_from_hw</a> (void)</td></tr>
<tr class="memdesc:ga39af0b095f233b2e5f7cddb401bd4f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-sync software shadows from hardware OLAT (optional utility).  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gac07c4c87ed47ec4ac2029dbc606f7ff8" id="r_gac07c4c87ed47ec4ac2029dbc606f7ff8"><td class="memItemLeft" align="right" valign="top">static mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac07c4c87ed47ec4ac2029dbc606f7ff8">s_relay_mutex</a></td></tr>
<tr class="memitem:gaf4582ca5e22486b19316b310c5e90124" id="r_gaf4582ca5e22486b19316b310c5e90124"><td class="memItemLeft" align="right" valign="top">static volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf4582ca5e22486b19316b310c5e90124">s_olat_a</a> = 0x00</td></tr>
<tr class="memitem:ga7192108d9b47ef396b9bba205be98fcf" id="r_ga7192108d9b47ef396b9bba205be98fcf"><td class="memItemLeft" align="right" valign="top">static volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7192108d9b47ef396b9bba205be98fcf">s_olat_b</a> = 0x00</td></tr>
<tr class="memitem:ga1b35c1a632e4bd7e072175f861c1cd6e" id="r_ga1b35c1a632e4bd7e072175f861c1cd6e"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1b35c1a632e4bd7e072175f861c1cd6e">s_inited</a> = false</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Implementation for MCP23017 I/O Expander driver on ENERGIS display board. </p>
<dl class="section version"><dt>Version</dt><dd>1.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-03-03</dd></dl>
<p>This file implements functions for initializing and controlling the MCP23017 I/O expander on the ENERGIS display board, including register access and pin manipulation.</p>
<p>@project ENERGIS - The Managed PDU Project for 10-Inch Rack @github <a href="https://github.com/DvidMakesThings/HW_10-In-Rack_PDU">https://github.com/DvidMakesThings/HW_10-In-Rack_PDU</a> </p>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga4cde98019aa1b07cd4c5f6bd7929bd8c" name="ga4cde98019aa1b07cd4c5f6bd7929bd8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cde98019aa1b07cd4c5f6bd7929bd8c">&#9670;&#160;</a></span>i2c_rd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_rd </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga4cde98019aa1b07cd4c5f6bd7929bd8c_icgraph.png" border="0" usemap="#agroup__driver5_ga4cde98019aa1b07cd4c5f6bd7929bd8c_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga4cde98019aa1b07cd4c5f6bd7929bd8c_icgraph" id="agroup__driver5_ga4cde98019aa1b07cd4c5f6bd7929bd8c_icgraph">
<area shape="rect" title=" " alt="" coords="1269,731,1326,757"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,680,1221,707"/>
<area shape="poly" title=" " alt="" coords="1254,731,1199,710,1201,705,1256,726"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,376,817,403"/>
<area shape="poly" title=" " alt="" coords="1281,718,1249,658,1199,582,1169,542,1134,504,1095,470,1054,441,996,415,933,399,872,391,817,389,817,384,873,386,934,394,997,410,1056,436,1099,466,1138,500,1173,539,1204,579,1254,655,1286,715"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,731,1043,757"/>
<area shape="poly" title=" " alt="" coords="1254,747,1044,747,1044,741,1254,741"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,781,1038,824"/>
<area shape="poly" title=" " alt="" coords="1254,754,1038,793,1037,788,1253,749"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,848,1055,875"/>
<area shape="poly" title=" " alt="" coords="1261,768,1222,786,1119,823,1026,850,1025,845,1118,818,1220,782,1259,763"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,579,537,605"/>
<area shape="poly" title=" " alt="" coords="1092,679,1055,671,905,645,757,625,537,599,538,593,758,619,906,640,1055,665,1093,673"/>
<area shape="poly" title=" " alt="" coords="1151,666,1138,627,1118,581,1090,533,1053,493,1010,468,944,444,803,406,805,401,946,439,1012,464,1057,489,1094,530,1123,578,1143,625,1156,664"/>
<area shape="poly" title=" " alt="" coords="1094,714,1022,733,1021,727,1092,709"/>
<area shape="poly" title=" " alt="" coords="1134,719,1098,746,1056,772,1032,783,1030,778,1054,767,1095,741,1131,714"/>
<area shape="poly" title=" " alt="" coords="1150,722,1113,781,1087,812,1057,838,1035,850,1032,845,1053,834,1083,808,1109,778,1145,719"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,503,1052,529"/>
<area shape="poly" title=" " alt="" coords="1141,669,1103,620,1053,569,1025,548,997,532,999,528,1028,544,1057,565,1107,616,1145,665"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,680,1044,707"/>
<area shape="poly" title=" " alt="" coords="1088,696,1044,696,1044,691,1088,691"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,579,1044,605"/>
<area shape="poly" title=" " alt="" coords="1129,673,1054,626,1011,608,1013,603,1056,622,1132,668"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,781,119,808"/>
<area shape="poly" title=" " alt="" coords="476,619,420,670,384,698,346,721,287,747,226,767,120,790,119,785,225,762,286,742,344,716,381,693,417,666,472,615"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,325,592,352"/>
<area shape="poly" title=" " alt="" coords="658,375,565,355,566,350,659,370"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,477,553,504"/>
<area shape="poly" title=" " alt="" coords="672,410,652,417,582,449,525,479,522,474,580,444,650,412,670,405"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,376,581,403"/>
<area shape="poly" title=" " alt="" coords="651,392,582,392,582,387,651,387"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,309,327,336"/>
<area shape="poly" title=" " alt="" coords="388,334,327,330,328,324,389,328"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,360,342,387"/>
<area shape="poly" title=" " alt="" coords="390,357,344,364,343,359,389,352"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,664,332,707"/>
<area shape="poly" title=" " alt="" coords="397,363,395,366,371,401,362,435,363,470,369,505,375,541,377,578,369,615,347,654,334,666,331,662,343,650,364,613,371,577,370,541,363,506,358,470,357,434,366,398,391,362,394,360"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,613,345,640"/>
<area shape="poly" title=" " alt="" coords="397,363,395,366,375,394,367,423,367,452,371,481,375,511,375,542,367,572,347,603,332,615,329,611,343,600,362,570,370,541,369,512,365,482,361,452,361,422,370,392,391,362,394,360"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,411,303,437"/>
<area shape="poly" title=" " alt="" coords="411,360,394,366,370,383,346,401,305,417,303,412,344,396,367,379,392,362,409,355"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,461,303,488"/>
<area shape="poly" title=" " alt="" coords="401,362,395,366,378,386,371,407,364,429,347,451,326,464,304,471,303,466,324,459,343,447,359,427,366,405,373,383,391,362,398,357"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,512,326,539"/>
<area shape="poly" title=" " alt="" coords="399,362,395,366,381,382,374,398,371,432,368,467,361,484,347,502,329,514,326,510,343,498,356,482,363,465,366,431,369,396,377,379,391,362,396,358"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,563,326,589"/>
<area shape="poly" title=" " alt="" coords="398,363,395,366,378,388,371,410,369,433,371,456,373,480,371,504,364,528,347,553,328,566,325,562,343,549,359,526,366,503,367,480,366,457,364,433,365,409,373,386,391,362,394,359"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,5,326,32"/>
<area shape="poly" title=" " alt="" coords="488,311,471,256,442,184,400,110,373,76,343,46,325,35,328,30,347,42,377,72,404,107,447,182,476,254,493,310"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,56,326,83"/>
<area shape="poly" title=" " alt="" coords="484,311,465,265,434,207,394,148,370,121,343,97,324,85,327,81,347,93,374,117,398,144,439,204,469,262,489,309"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,107,326,133"/>
<area shape="poly" title=" " alt="" coords="481,314,458,276,427,232,389,186,343,148,322,136,325,132,347,143,392,183,432,228,463,273,485,311"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,157,326,184"/>
<area shape="poly" title=" " alt="" coords="474,315,419,256,383,225,344,198,319,187,322,182,346,194,386,221,422,253,478,311"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,208,326,235"/>
<area shape="poly" title=" " alt="" coords="464,319,409,284,344,249,315,238,317,233,346,244,411,279,466,314"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,259,326,285"/>
<area shape="poly" title=" " alt="" coords="433,323,314,289,315,283,435,318"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,1136,137,1163"/>
<area shape="poly" title=" " alt="" coords="243,721,215,768,187,821,149,914,117,1006,78,1137,73,1135,112,1004,144,912,182,819,210,765,238,718"/>
<area shape="poly" title=" " alt="" coords="421,374,392,367,344,351,309,339,311,334,346,345,394,361,422,369"/>
<area shape="poly" title=" " alt="" coords="400,385,343,381,343,376,400,380"/>
<area shape="poly" title=" " alt="" coords="457,413,424,436,395,467,382,492,376,516,375,561,372,606,364,629,347,654,334,666,330,662,343,650,359,627,367,605,369,561,370,515,377,490,391,464,420,432,454,408"/>
<area shape="poly" title=" " alt="" coords="458,413,425,437,395,467,384,485,378,503,375,536,369,569,361,586,347,603,330,615,327,611,343,599,356,583,364,568,369,536,373,501,379,483,391,464,421,433,455,409"/>
<area shape="poly" title=" " alt="" coords="400,407,304,421,303,416,400,401"/>
<area shape="poly" title=" " alt="" coords="450,412,346,452,304,466,303,461,344,447,448,407"/>
<area shape="poly" title=" " alt="" coords="467,414,346,502,319,514,317,509,344,498,464,410"/>
<area shape="poly" title=" " alt="" coords="461,413,427,437,395,467,380,490,373,511,365,532,347,553,328,564,325,560,343,549,360,529,368,509,376,487,391,464,424,433,458,409"/>
<area shape="poly" title=" " alt="" coords="400,374,391,366,375,346,364,325,355,285,357,245,365,205,373,165,375,125,367,86,358,66,343,46,325,32,329,28,347,42,362,63,372,84,381,125,378,166,370,206,362,245,360,284,369,323,380,343,395,362,403,370"/>
<area shape="poly" title=" " alt="" coords="400,374,391,366,368,332,359,298,360,264,365,230,371,196,372,163,364,130,343,96,325,83,328,79,347,93,369,128,377,163,376,197,370,231,365,264,364,297,373,330,395,362,403,370"/>
<area shape="poly" title=" " alt="" coords="400,373,391,366,371,338,363,311,362,283,365,255,369,228,368,201,361,174,343,147,325,134,329,130,347,143,366,172,374,200,374,228,371,256,368,283,368,310,376,336,395,362,403,369"/>
<area shape="poly" title=" " alt="" coords="400,373,391,366,375,345,367,323,366,281,365,239,358,218,343,198,326,185,329,181,347,194,363,216,370,238,371,281,372,322,379,342,395,362,403,369"/>
<area shape="poly" title=" " alt="" coords="400,372,391,366,378,351,371,336,366,306,361,277,355,263,343,249,325,237,328,232,347,245,359,260,366,275,371,305,376,335,383,348,395,362,403,368"/>
<area shape="poly" title=" " alt="" coords="400,371,391,366,375,350,366,332,358,315,343,299,323,288,326,284,347,295,363,312,371,330,379,346,395,362,403,367"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,1085,832,1112"/>
<area shape="poly" title=" " alt="" coords="886,833,882,838,863,868,856,897,856,926,860,956,863,985,863,1015,854,1045,834,1075,819,1087,815,1083,830,1072,849,1043,858,1014,858,985,854,956,851,927,851,896,858,866,878,834,882,829"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,1136,821,1163"/>
<area shape="poly" title=" " alt="" coords="962,891,947,941,921,1005,884,1070,860,1100,833,1126,814,1138,812,1133,830,1122,857,1096,880,1067,917,1002,942,939,957,889"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,427,817,453"/>
<area shape="poly" title=" " alt="" coords="916,499,831,468,793,456,795,451,833,463,918,494"/>
<area shape="poly" title=" " alt="" coords="875,700,823,698,765,693,707,682,650,664,635,655,625,645,616,636,602,626,569,612,537,603,538,598,571,607,605,622,619,632,629,642,638,651,652,659,708,676,766,687,823,693,875,695"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,832,304,859"/>
<area shape="poly" title=" " alt="" coords="888,713,304,840,303,835,887,708"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,528,810,555"/>
<area shape="poly" title=" " alt="" coords="932,674,761,557,764,553,935,669"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,1035,775,1061"/>
<area shape="poly" title=" " alt="" coords="886,717,882,720,870,738,854,770,815,864,750,1035,745,1033,810,862,849,768,865,735,878,717,882,713"/>
<area shape="poly" title=" " alt="" coords="210,834,119,810,120,805,212,829"/>
<area shape="poly" title=" " alt="" coords="658,527,553,505,554,500,659,522"/>
<area shape="poly" title=" " alt="" coords="660,524,650,518,634,506,624,494,601,467,558,433,519,405,522,401,562,429,605,463,628,491,638,502,653,514,663,519"/>
<area shape="poly" title=" " alt="" coords="730,1020,667,799,630,686,614,647,601,626,587,615,571,607,536,598,538,592,573,602,590,610,605,622,619,644,635,684,672,798,735,1019"/>
<area shape="poly" title=" " alt="" coords="725,1022,706,987,678,945,643,905,602,872,541,840,475,818,407,802,340,793,215,787,120,792,120,787,215,782,340,787,408,797,477,813,543,836,605,867,647,901,682,942,710,984,730,1019"/>
<area shape="poly" title=" " alt="" coords="735,1019,724,957,701,876,684,835,662,794,635,758,602,727,571,708,537,694,502,684,466,678,395,674,332,678,332,672,395,669,466,673,503,679,539,689,573,704,605,723,639,755,666,792,689,832,706,874,729,956,740,1019"/>
<area shape="poly" title=" " alt="" coords="693,1054,671,1062,653,1075,639,1094,630,1113,623,1152,626,1191,635,1230,643,1269,645,1307,634,1344,622,1362,605,1379,571,1402,535,1416,497,1421,458,1419,418,1410,378,1395,301,1354,229,1302,166,1248,83,1165,86,1161,169,1244,232,1298,304,1349,381,1390,420,1404,458,1413,496,1416,533,1411,568,1398,602,1375,618,1359,629,1342,639,1306,638,1269,630,1231,621,1191,618,1151,625,1111,635,1091,649,1071,669,1057,692,1049"/>
<area shape="poly" title=" " alt="" coords="736,1020,728,949,707,857,690,808,667,762,638,719,602,682,573,663,542,647,475,628,407,620,345,621,345,615,407,615,476,623,544,642,576,658,605,678,642,715,671,759,695,806,712,855,733,948,741,1019"/>
<area shape="poly" title=" " alt="" coords="718,1024,669,971,637,944,602,921,564,903,523,888,440,867,364,855,304,850,304,844,364,850,441,862,524,883,566,898,605,916,640,939,673,967,722,1020"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,1557,558,1584"/>
<area shape="poly" title=" " alt="" coords="693,1054,671,1061,653,1075,632,1105,619,1134,611,1164,609,1193,616,1251,631,1310,646,1368,653,1427,650,1457,642,1487,627,1517,605,1547,584,1563,559,1571,558,1566,582,1558,601,1543,623,1514,637,1485,645,1456,648,1427,641,1369,626,1311,611,1252,604,1193,606,1163,614,1133,628,1102,649,1071,669,1057,692,1049"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,1608,603,1635"/>
<area shape="poly" title=" " alt="" coords="693,1054,671,1061,653,1075,642,1094,634,1119,626,1181,626,1255,631,1335,635,1415,635,1490,627,1552,618,1578,605,1598,592,1609,588,1605,601,1594,613,1575,622,1551,630,1490,630,1416,625,1335,621,1255,620,1180,628,1117,637,1092,649,1072,669,1057,691,1049"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,1237,603,1264"/>
<area shape="poly" title=" " alt="" coords="693,1055,672,1063,653,1075,639,1093,632,1112,630,1150,628,1189,620,1208,605,1227,588,1239,585,1235,602,1223,616,1206,623,1188,625,1150,627,1111,634,1091,650,1071,669,1058,691,1050"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,1440,565,1483"/>
<area shape="poly" title=" " alt="" coords="694,1054,671,1062,653,1075,637,1097,626,1118,617,1160,619,1203,628,1245,637,1288,640,1332,632,1377,621,1400,605,1423,588,1439,567,1450,564,1445,585,1435,601,1420,616,1397,626,1375,635,1332,632,1289,623,1246,614,1203,612,1160,621,1116,633,1094,649,1071,669,1057,692,1049"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,1507,575,1533"/>
<area shape="poly" title=" " alt="" coords="693,1054,671,1061,653,1075,634,1102,622,1128,615,1154,613,1180,618,1232,631,1284,644,1337,649,1389,646,1416,639,1443,625,1470,605,1496,592,1508,577,1515,574,1511,589,1503,601,1493,621,1467,634,1441,641,1415,644,1389,639,1338,626,1286,613,1233,607,1180,610,1153,617,1126,630,1099,649,1071,669,1057,692,1049"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,1187,561,1213"/>
<area shape="poly" title=" " alt="" coords="693,1057,672,1064,653,1075,636,1098,630,1121,623,1146,605,1170,585,1183,562,1192,560,1187,582,1179,602,1166,619,1143,625,1120,631,1095,650,1071,670,1059,692,1052"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,1288,553,1315"/>
<area shape="poly" title=" " alt="" coords="693,1055,672,1062,653,1075,636,1100,629,1124,628,1149,630,1175,633,1201,632,1226,624,1252,605,1278,581,1294,554,1302,553,1297,579,1289,601,1274,619,1250,627,1226,628,1201,625,1175,623,1150,623,1124,631,1097,649,1071,669,1057,692,1050"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,984,580,1011"/>
<area shape="poly" title=" " alt="" coords="692,1041,565,1014,566,1009,693,1035"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,1035,298,1061"/>
<area shape="poly" title=" " alt="" coords="692,1051,299,1051,299,1045,692,1045"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,1085,312,1112"/>
<area shape="poly" title=" " alt="" coords="693,1056,313,1096,313,1091,692,1050"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,933,293,960"/>
<area shape="poly" title=" " alt="" coords="715,1026,666,984,635,965,602,951,560,940,516,933,429,930,351,935,294,944,293,939,351,930,429,924,517,928,561,934,604,945,638,960,669,980,719,1022"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,984,311,1011"/>
<area shape="poly" title=" " alt="" coords="709,1028,661,998,632,985,603,975,564,967,524,963,444,965,371,975,312,987,311,982,370,970,443,960,524,958,565,962,604,969,634,980,663,993,712,1023"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="222,1136,308,1163"/>
<area shape="poly" title=" " alt="" coords="694,1063,652,1076,604,1093,522,1112,441,1128,308,1147,307,1142,440,1122,521,1107,603,1088,650,1071,692,1058"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,1339,572,1365"/>
<area shape="poly" title=" " alt="" coords="694,1054,672,1062,653,1075,633,1106,625,1137,626,1169,631,1200,635,1232,636,1264,627,1297,605,1328,590,1340,573,1348,571,1343,588,1336,601,1325,622,1294,631,1264,630,1233,625,1201,620,1169,620,1137,628,1104,649,1071,669,1057,692,1049"/>
<area shape="poly" title=" " alt="" coords="378,1240,282,1224,184,1200,138,1183,99,1166,101,1161,140,1179,185,1195,283,1218,379,1234"/>
<area shape="poly" title=" " alt="" coords="416,1475,360,1476,299,1470,238,1454,209,1440,183,1423,153,1395,129,1361,110,1323,95,1285,78,1213,71,1163,76,1163,83,1212,100,1283,115,1321,133,1358,157,1391,186,1419,212,1436,240,1449,299,1464,360,1470,415,1469"/>
<area shape="poly" title=" " alt="" coords="406,1534,351,1534,292,1527,234,1510,208,1497,183,1479,149,1444,122,1401,102,1355,88,1309,73,1222,70,1163,75,1163,79,1222,93,1307,107,1354,127,1399,153,1440,186,1475,210,1492,236,1505,293,1522,351,1529,406,1529"/>
<area shape="poly" title=" " alt="" coords="420,1199,308,1192,184,1177,126,1166,127,1161,185,1172,309,1186,420,1194"/>
<area shape="poly" title=" " alt="" coords="462,978,286,861,289,857,465,973"/>
<area shape="poly" title=" " alt="" coords="419,1017,300,1043,298,1038,418,1012"/>
<area shape="poly" title=" " alt="" coords="460,1021,407,1048,346,1076,314,1087,312,1082,344,1071,404,1043,458,1016"/>
<area shape="poly" title=" " alt="" coords="418,983,293,955,294,950,419,977"/>
<area shape="poly" title=" " alt="" coords="401,1000,311,1000,311,995,401,995"/>
<area shape="poly" title=" " alt="" coords="475,1024,419,1075,384,1103,346,1126,309,1142,307,1137,344,1122,381,1098,416,1071,471,1020"/>
<area shape="poly" title=" " alt="" coords="217,1063,186,1076,133,1107,91,1138,88,1133,130,1103,183,1071,215,1058"/>
<area shape="poly" title=" " alt="" coords="203,1117,126,1138,124,1133,202,1112"/>
<area shape="poly" title=" " alt="" coords="223,957,204,964,186,974,147,1014,116,1060,94,1103,80,1137,75,1134,89,1101,111,1057,143,1010,183,970,201,959,221,952"/>
<area shape="poly" title=" " alt="" coords="205,1015,186,1025,153,1052,123,1083,83,1137,79,1134,119,1079,149,1048,183,1020,203,1010"/>
<area shape="poly" title=" " alt="" coords="206,1152,137,1152,137,1147,206,1147"/>
<area shape="poly" title=" " alt="" coords="875,595,537,595,537,589,875,589"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,477,810,504"/>
<area shape="poly" title=" " alt="" coords="928,573,831,518,799,507,800,502,833,514,930,568"/>
</map>
</div>

</div>
</div>
<a id="ga88ff03a249bfc75eaac4cab1d7955107" name="ga88ff03a249bfc75eaac4cab1d7955107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88ff03a249bfc75eaac4cab1d7955107">&#9670;&#160;</a></span>i2c_wr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool i2c_wr </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga88ff03a249bfc75eaac4cab1d7955107_icgraph.png" border="0" usemap="#agroup__driver5_ga88ff03a249bfc75eaac4cab1d7955107_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga88ff03a249bfc75eaac4cab1d7955107_icgraph" id="agroup__driver5_ga88ff03a249bfc75eaac4cab1d7955107_icgraph">
<area shape="rect" title=" " alt="" coords="1481,1557,1540,1584"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,1431,1221,1457"/>
<area shape="poly" title=" " alt="" coords="1465,1557,1200,1460,1202,1455,1467,1552"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,1633,1055,1660"/>
<area shape="poly" title=" " alt="" coords="1466,1583,1433,1589,1230,1619,1056,1640,1055,1635,1230,1614,1432,1584,1465,1578"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,1583,1044,1609"/>
<area shape="poly" title=" " alt="" coords="1465,1575,1045,1595,1045,1590,1465,1570"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="1269,1443,1433,1469"/>
<area shape="poly" title=" " alt="" coords="1486,1548,1461,1522,1431,1497,1386,1472,1389,1468,1434,1492,1464,1518,1490,1544"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,1557,537,1584"/>
<area shape="poly" title=" " alt="" coords="1125,1468,1092,1484,1056,1497,983,1517,908,1533,760,1555,630,1567,538,1572,537,1567,630,1562,759,1550,907,1527,982,1512,1054,1492,1090,1479,1123,1463"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,436,817,463"/>
<area shape="poly" title=" " alt="" coords="1120,1426,1054,1396,1027,1388,1003,1385,958,1384,937,1382,917,1376,897,1364,878,1344,858,1311,845,1269,838,1220,836,1165,841,1041,853,908,865,776,870,653,868,598,861,550,848,509,830,476,816,464,819,460,834,473,853,507,866,549,873,598,876,653,871,776,858,909,846,1042,841,1164,844,1219,851,1268,863,1309,882,1341,900,1360,919,1371,938,1376,958,1378,1003,1380,1028,1383,1056,1391,1123,1421"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,1405,1043,1432"/>
<area shape="poly" title=" " alt="" coords="1087,1437,1043,1431,1044,1426,1088,1432"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,1288,1038,1331"/>
<area shape="poly" title=" " alt="" coords="1136,1421,1098,1386,1054,1352,1021,1334,1024,1329,1056,1347,1102,1382,1139,1417"/>
<area shape="poly" title=" " alt="" coords="1154,1473,1140,1508,1119,1548,1091,1589,1057,1623,1037,1635,1034,1630,1053,1619,1087,1585,1115,1545,1135,1505,1149,1471"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,1237,1052,1264"/>
<area shape="poly" title=" " alt="" coords="1143,1419,1093,1335,1053,1278,1033,1267,1036,1262,1057,1274,1097,1332,1148,1416"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,1456,1044,1483"/>
<area shape="poly" title=" " alt="" coords="1088,1456,1045,1462,1044,1457,1087,1451"/>
<area shape="poly" title=" " alt="" coords="1146,1472,1108,1520,1084,1544,1056,1566,1020,1584,1018,1580,1054,1562,1080,1540,1104,1516,1141,1469"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,1456,119,1483"/>
<area shape="poly" title=" " alt="" coords="444,1561,119,1483,120,1478,445,1556"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,335,592,361"/>
<area shape="poly" title=" " alt="" coords="660,432,650,426,634,413,625,400,616,387,602,376,577,364,579,360,605,371,620,384,630,397,638,410,653,422,663,427"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,385,553,412"/>
<area shape="poly" title=" " alt="" coords="658,435,553,413,554,408,659,430"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,436,581,463"/>
<area shape="poly" title=" " alt="" coords="651,452,582,452,582,447,651,447"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,411,327,437"/>
<area shape="poly" title=" " alt="" coords="416,369,394,376,370,388,346,401,315,413,313,408,344,396,368,383,392,371,414,363"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,461,342,488"/>
<area shape="poly" title=" " alt="" coords="402,371,395,375,379,393,371,412,364,432,347,451,327,463,324,458,343,447,359,429,366,410,374,390,391,371,399,366"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,664,332,707"/>
<area shape="poly" title=" " alt="" coords="397,373,395,375,372,409,363,442,363,476,369,510,375,545,376,580,368,616,347,654,334,666,330,662,343,650,363,615,371,580,369,545,363,511,358,476,358,441,367,407,391,372,394,369"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,613,345,640"/>
<area shape="poly" title=" " alt="" coords="397,373,395,375,375,402,367,430,367,458,371,486,374,515,374,544,366,574,347,603,332,615,329,611,343,600,362,571,369,543,369,515,365,487,362,458,362,429,371,400,391,372,394,369"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,512,303,539"/>
<area shape="poly" title=" " alt="" coords="399,372,395,375,382,390,375,405,371,436,367,469,360,486,347,502,327,515,304,523,303,518,324,510,343,498,355,483,362,468,366,436,370,403,378,387,391,371,396,368"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,563,303,589"/>
<area shape="poly" title=" " alt="" coords="398,372,395,375,379,396,371,417,371,461,371,506,363,530,347,553,327,567,304,574,303,569,325,562,343,549,358,527,365,506,366,461,366,416,374,394,391,372,394,368"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,5,326,32"/>
<area shape="poly" title=" " alt="" coords="488,320,471,263,443,189,401,112,374,77,343,46,326,35,328,30,347,42,378,73,405,109,448,187,477,261,493,319"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,56,326,83"/>
<area shape="poly" title=" " alt="" coords="485,321,466,272,436,212,395,150,371,122,343,97,324,86,327,81,347,93,374,118,399,147,440,209,471,270,490,319"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,107,326,133"/>
<area shape="poly" title=" " alt="" coords="481,322,460,283,429,236,390,188,343,148,322,136,325,131,347,143,393,185,433,233,464,280,486,320"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,157,326,184"/>
<area shape="poly" title=" " alt="" coords="475,324,420,261,384,227,344,198,320,187,322,182,346,194,387,223,424,257,479,320"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,208,326,235"/>
<area shape="poly" title=" " alt="" coords="466,327,411,288,344,249,316,238,318,233,346,244,414,283,469,323"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,259,326,285"/>
<area shape="poly" title=" " alt="" coords="440,332,344,300,309,289,311,283,346,295,442,327"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,309,326,336"/>
<area shape="poly" title=" " alt="" coords="389,339,327,332,327,327,389,334"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,360,326,387"/>
<area shape="poly" title=" " alt="" coords="389,362,327,369,327,364,389,357"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,908,137,935"/>
<area shape="poly" title=" " alt="" coords="199,717,187,727,147,774,116,826,93,873,79,909,75,907,88,871,111,823,143,771,183,723,195,713"/>
<area shape="poly" title=" " alt="" coords="400,441,327,433,328,428,400,436"/>
<area shape="poly" title=" " alt="" coords="400,463,343,469,343,464,400,457"/>
<area shape="poly" title=" " alt="" coords="485,478,431,563,392,611,347,654,329,666,326,661,343,650,388,608,427,560,481,475"/>
<area shape="poly" title=" " alt="" coords="479,477,424,540,387,574,346,604,322,615,320,610,344,599,384,570,420,536,475,473"/>
<area shape="poly" title=" " alt="" coords="442,471,346,503,304,516,303,511,344,497,440,465"/>
<area shape="poly" title=" " alt="" coords="469,475,414,514,346,553,304,569,303,564,344,548,411,509,466,470"/>
<area shape="poly" title=" " alt="" coords="400,434,391,426,373,402,360,378,353,354,350,330,354,282,365,235,375,188,380,141,377,117,371,94,360,70,343,46,325,32,329,28,347,42,365,67,376,92,383,116,385,141,381,189,370,236,359,283,356,329,358,352,365,376,377,399,395,422,404,430"/>
<area shape="poly" title=" " alt="" coords="400,434,391,426,375,405,364,384,354,342,357,301,365,260,373,219,376,179,368,138,358,117,343,97,325,83,329,79,347,93,362,114,373,136,381,178,379,220,370,261,362,302,360,342,369,382,379,402,395,422,403,430"/>
<area shape="poly" title=" " alt="" coords="400,434,391,426,367,391,358,355,359,320,365,285,371,251,373,216,365,182,343,147,325,134,328,130,347,144,370,180,378,216,376,251,370,286,365,321,364,355,372,388,395,422,403,430"/>
<area shape="poly" title=" " alt="" coords="400,433,391,426,371,397,362,368,362,339,365,311,369,282,369,254,362,226,343,198,325,185,329,181,347,194,366,224,374,253,374,282,371,311,367,340,367,367,375,395,395,422,403,429"/>
<area shape="poly" title=" " alt="" coords="400,433,391,426,374,404,366,381,366,336,365,292,358,270,343,249,326,236,329,232,347,245,363,268,371,291,371,336,371,380,379,401,395,422,403,429"/>
<area shape="poly" title=" " alt="" coords="400,432,391,426,378,410,370,394,366,362,362,330,355,314,343,299,326,287,329,283,347,295,360,312,367,328,371,361,375,392,382,407,395,422,403,428"/>
<area shape="poly" title=" " alt="" coords="400,431,391,426,374,407,366,387,359,368,343,350,324,339,327,334,347,346,364,366,371,385,379,404,395,422,403,427"/>
<area shape="poly" title=" " alt="" coords="414,434,392,426,368,414,344,401,313,390,315,385,346,396,370,409,394,422,416,429"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,385,832,412"/>
<area shape="poly" title=" " alt="" coords="883,1284,877,1277,860,1244,848,1202,841,1153,839,1099,844,978,856,848,867,718,871,598,868,545,861,497,848,457,830,426,817,415,821,411,834,422,853,455,866,496,873,544,876,598,872,718,861,848,849,978,844,1099,847,1153,853,1201,865,1242,882,1275,887,1280"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,1684,821,1711"/>
<area shape="poly" title=" " alt="" coords="890,1667,805,1686,804,1681,889,1661"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,335,817,361"/>
<area shape="poly" title=" " alt="" coords="963,1222,957,1050,950,928,938,796,921,664,898,542,868,443,850,404,830,375,816,364,819,360,834,372,854,402,873,441,903,541,927,663,944,795,955,928,963,1050,968,1222"/>
<area shape="poly" title=" " alt="" coords="876,1486,768,1505,652,1529,538,1561,537,1556,651,1524,767,1500,875,1481"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,1456,304,1483"/>
<area shape="poly" title=" " alt="" coords="875,1478,603,1496,498,1500,393,1496,303,1481,304,1476,393,1491,498,1495,603,1491,875,1473"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,487,810,513"/>
<area shape="poly" title=" " alt="" coords="880,1448,877,1446,859,1412,847,1366,840,1312,836,1254,834,1137,829,1048,779,725,743,514,748,513,784,724,834,1048,839,1137,842,1253,845,1312,852,1365,864,1410,882,1442,884,1444"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,1060,775,1087"/>
<area shape="poly" title=" " alt="" coords="882,1449,878,1446,840,1403,810,1354,787,1301,769,1248,748,1152,741,1087,746,1087,754,1151,774,1247,792,1299,815,1351,844,1400,882,1442,885,1445"/>
<area shape="poly" title=" " alt="" coords="211,1472,120,1472,120,1467,211,1467"/>
<area shape="poly" title=" " alt="" coords="660,483,650,477,634,464,625,451,616,438,602,426,578,416,553,408,554,403,580,410,605,422,620,434,630,448,638,460,653,472,663,478"/>
<area shape="poly" title=" " alt="" coords="658,485,565,466,566,461,659,480"/>
<area shape="poly" title=" " alt="" coords="739,1103,726,1175,702,1275,662,1385,636,1439,605,1490,587,1511,567,1530,526,1559,523,1555,563,1526,584,1507,601,1486,632,1437,657,1383,697,1274,721,1174,734,1102"/>
<area shape="poly" title=" " alt="" coords="740,1103,729,1165,706,1245,688,1287,666,1328,639,1364,605,1396,569,1414,520,1425,463,1433,401,1436,279,1440,185,1447,120,1460,119,1455,184,1441,278,1435,400,1431,462,1427,519,1420,567,1408,602,1391,635,1361,662,1325,684,1285,701,1244,724,1164,735,1102"/>
<area shape="poly" title=" " alt="" coords="738,1045,734,966,728,916,716,862,699,807,675,755,643,709,602,670,569,652,533,641,496,636,458,637,384,648,321,666,320,661,383,643,457,631,496,631,535,636,571,647,605,666,647,705,680,753,704,805,721,861,733,915,739,966,743,1045"/>
<area shape="poly" title=" " alt="" coords="693,1083,595,1090,465,1090,394,1083,322,1071,251,1052,183,1025,151,1005,122,981,81,937,85,933,126,977,154,1001,186,1020,252,1047,323,1066,395,1078,465,1084,595,1085,692,1077"/>
<area shape="poly" title=" " alt="" coords="733,1045,716,950,687,825,669,762,648,707,626,662,602,634,568,614,530,601,490,595,450,593,373,601,310,615,309,610,372,596,450,588,491,590,531,596,570,609,605,630,630,659,653,704,674,761,692,823,721,949,738,1044"/>
<area shape="poly" title=" " alt="" coords="742,1103,734,1173,713,1266,696,1314,672,1361,642,1404,605,1439,569,1461,529,1477,488,1486,446,1490,367,1489,304,1480,305,1475,367,1483,446,1485,487,1481,528,1471,567,1457,602,1435,638,1400,668,1358,691,1312,708,1264,729,1172,736,1102"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,1136,558,1163"/>
<area shape="poly" title=" " alt="" coords="694,1091,604,1120,546,1138,544,1133,603,1115,693,1086"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,1187,603,1213"/>
<area shape="poly" title=" " alt="" coords="716,1099,667,1139,604,1177,574,1189,572,1184,602,1172,664,1135,713,1095"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,1288,603,1315"/>
<area shape="poly" title=" " alt="" coords="732,1102,713,1142,686,1190,650,1238,605,1278,583,1290,581,1285,602,1274,646,1234,681,1187,708,1139,727,1100"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,1339,565,1381"/>
<area shape="poly" title=" " alt="" coords="735,1103,719,1151,692,1212,655,1275,631,1303,605,1329,587,1341,567,1349,565,1345,584,1336,602,1325,627,1300,650,1271,687,1210,714,1149,730,1101"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,680,575,707"/>
<area shape="poly" title=" " alt="" coords="735,1045,725,978,703,890,686,844,663,798,635,757,602,721,574,705,577,700,605,717,640,753,668,796,690,841,708,888,731,977,740,1044"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,731,561,757"/>
<area shape="poly" title=" " alt="" coords="732,1045,719,989,694,917,676,879,655,842,631,808,602,778,582,765,560,756,562,751,585,760,605,774,635,805,660,839,681,877,699,915,724,987,738,1044"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,1237,553,1264"/>
<area shape="poly" title=" " alt="" coords="726,1101,677,1165,643,1199,605,1228,580,1239,554,1246,553,1241,578,1234,602,1223,640,1195,673,1162,722,1098"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,883,580,909"/>
<area shape="poly" title=" " alt="" coords="720,1049,671,989,638,957,602,930,562,912,564,908,605,926,642,953,675,985,724,1045"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,933,298,960"/>
<area shape="poly" title=" " alt="" coords="715,1051,665,1010,635,990,602,974,562,962,519,953,435,944,358,943,299,946,299,941,358,937,435,938,520,948,563,957,604,970,638,985,669,1005,718,1047"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,984,312,1011"/>
<area shape="poly" title=" " alt="" coords="692,1070,393,1025,313,1010,314,1005,393,1020,693,1065"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,832,293,859"/>
<area shape="poly" title=" " alt="" coords="731,1046,715,999,690,942,652,886,629,863,602,844,577,835,542,830,455,829,364,836,294,844,293,839,364,831,455,824,543,825,578,830,605,839,632,859,656,883,694,939,720,997,736,1044"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,883,311,909"/>
<area shape="poly" title=" " alt="" coords="729,1046,711,1005,685,956,649,909,627,889,602,873,574,860,548,853,525,852,502,853,454,863,393,873,312,887,311,882,393,868,453,858,502,848,525,846,549,848,575,855,605,868,630,885,652,905,689,953,716,1002,733,1044"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,984,572,1011"/>
<area shape="poly" title=" " alt="" coords="693,1061,603,1032,544,1014,546,1009,604,1027,694,1056"/>
<area shape="poly" title=" " alt="" coords="408,1285,392,1278,326,1245,277,1213,233,1174,183,1119,145,1070,114,1017,75,936,80,934,119,1015,150,1067,187,1116,237,1170,280,1209,328,1240,394,1274,410,1280"/>
<area shape="poly" title=" " alt="" coords="415,1356,358,1345,296,1326,236,1298,208,1280,183,1258,151,1219,125,1174,106,1127,92,1079,75,993,70,935,75,935,81,993,97,1078,111,1125,130,1172,155,1216,187,1254,211,1275,238,1293,298,1321,359,1340,416,1350"/>
<area shape="poly" title=" " alt="" coords="407,713,280,742,224,759,186,777,150,808,120,845,81,909,77,906,115,842,146,804,183,772,222,754,279,737,406,707"/>
<area shape="poly" title=" " alt="" coords="420,755,306,777,245,797,186,822,155,842,127,866,85,909,82,906,123,862,152,838,183,818,243,792,305,772,419,749"/>
<area shape="poly" title=" " alt="" coords="457,919,424,943,395,974,358,1039,329,1110,307,1182,291,1253,274,1378,269,1456,264,1456,268,1377,286,1252,302,1181,324,1108,353,1037,391,970,420,939,454,915"/>
<area shape="poly" title=" " alt="" coords="419,916,300,942,298,937,418,911"/>
<area shape="poly" title=" " alt="" coords="460,919,407,947,346,974,314,986,312,981,344,970,404,942,458,915"/>
<area shape="poly" title=" " alt="" coords="418,881,293,854,294,849,419,876"/>
<area shape="poly" title=" " alt="" coords="401,899,311,899,311,893,401,893"/>
<area shape="poly" title=" " alt="" coords="215,943,137,933,138,927,216,938"/>
<area shape="poly" title=" " alt="" coords="202,981,184,974,100,938,102,933,186,970,204,976"/>
<area shape="poly" title=" " alt="" coords="223,860,186,873,102,910,100,905,184,868,221,855"/>
<area shape="poly" title=" " alt="" coords="204,907,138,915,137,910,203,901"/>
<area shape="poly" title=" " alt="" coords="875,1594,537,1575,537,1570,875,1588"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,1633,810,1660"/>
<area shape="poly" title=" " alt="" coords="890,1616,805,1635,804,1630,889,1611"/>
<area shape="poly" title=" " alt="" coords="1254,1452,1222,1450,1222,1445,1254,1447"/>
<area shape="poly" title=" " alt="" coords="1317,1435,1204,1360,1131,1317,1054,1278,1023,1267,1025,1262,1056,1274,1133,1312,1207,1355,1320,1431"/>
<area shape="poly" title=" " alt="" coords="1254,1470,1221,1472,1044,1474,1044,1469,1221,1467,1254,1464"/>
</map>
</div>

</div>
</div>
<a id="gad23a5248f3f3fc671c373a437e16e985" name="gad23a5248f3f3fc671c373a437e16e985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad23a5248f3f3fc671c373a437e16e985">&#9670;&#160;</a></span>mcp_display_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the relay board's MCP23017. </p>
<p>Initialize the MCP23017 I/O expander for the relay board.</p>
<p>Performs a hardware reset using MCP_REL_RST, configures IOCON/IODIR, seeds software shadows from OLAT, and drives a known state. All IC access is mutex-guarded to prevent torn RMW updates. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gad23a5248f3f3fc671c373a437e16e985_cgraph.png" border="0" usemap="#agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_cgraph" id="agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_cgraph">
<area shape="rect" title="Initializes the relay board&#39;s MCP23017." alt="" coords="5,107,124,133"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="225,5,282,32"/>
<area shape="poly" title=" " alt="" coords="83,104,122,77,170,48,209,31,212,36,173,53,125,81,86,108"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="383,132,442,159"/>
<area shape="poly" title=" " alt="" coords="108,103,156,92,213,83,275,82,336,92,363,104,386,120,383,124,360,109,334,97,274,87,213,89,157,97,109,109"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="215,107,292,133"/>
<area shape="poly" title=" " alt="" coords="124,117,199,117,199,123,124,123"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="208,157,299,184"/>
<area shape="poly" title=" " alt="" coords="118,131,193,152,192,157,116,137"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="172,208,335,235"/>
<area shape="poly" title=" " alt="" coords="83,132,123,163,173,194,186,200,184,205,170,198,120,167,80,136"/>
<area shape="poly" title=" " alt="" coords="306,205,334,194,381,165,383,170,336,198,307,210"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gad23a5248f3f3fc671c373a437e16e985_icgraph.png" border="0" usemap="#agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_icgraph" id="agroup__driver5_gad23a5248f3f3fc671c373a437e16e985_icgraph">
<area shape="rect" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,1081,1221,1108"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,39,537,65"/>
<area shape="poly" title=" " alt="" coords="1154,1066,1119,856,1090,704,1052,539,1007,376,954,229,925,166,895,112,863,70,830,41,794,23,755,12,714,8,673,10,596,23,536,41,534,35,595,17,673,4,715,3,756,7,796,18,833,36,867,66,900,109,930,164,959,227,1012,374,1057,538,1095,703,1125,855,1159,1065"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,1119,817,1145"/>
<area shape="poly" title=" " alt="" coords="1087,1092,988,1090,880,1097,830,1107,784,1120,782,1115,828,1102,879,1092,988,1085,1087,1087"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,1107,1043,1133"/>
<area shape="poly" title=" " alt="" coords="1088,1107,1044,1113,1043,1107,1087,1102"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,1157,1038,1200"/>
<area shape="poly" title=" " alt="" coords="1121,1117,1056,1148,1028,1159,1026,1154,1054,1143,1119,1113"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,1224,1055,1251"/>
<area shape="poly" title=" " alt="" coords="1146,1123,1108,1169,1084,1193,1056,1214,1032,1226,1030,1221,1054,1210,1080,1189,1104,1166,1142,1119"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,1275,1052,1301"/>
<area shape="poly" title=" " alt="" coords="1153,1123,1139,1156,1118,1194,1090,1232,1057,1265,1036,1276,1033,1272,1053,1260,1086,1229,1113,1191,1134,1154,1148,1121"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,571,1044,597"/>
<area shape="poly" title=" " alt="" coords="1148,1068,971,599,976,597,1153,1066"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,1005,1044,1032"/>
<area shape="poly" title=" " alt="" coords="1113,1077,1054,1053,1006,1035,1008,1030,1056,1048,1115,1072"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,140,119,167"/>
<area shape="poly" title=" " alt="" coords="445,67,120,144,119,139,444,62"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,1321,592,1348"/>
<area shape="poly" title=" " alt="" coords="657,1156,653,1159,639,1177,632,1196,630,1234,628,1273,620,1292,605,1311,588,1323,585,1319,602,1307,616,1289,623,1271,625,1233,627,1194,634,1175,649,1155,653,1152"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,1119,553,1145"/>
<area shape="poly" title=" " alt="" coords="651,1135,554,1135,554,1129,651,1129"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,1271,581,1297"/>
<area shape="poly" title=" " alt="" coords="666,1153,653,1160,610,1186,571,1218,514,1272,510,1268,567,1214,607,1182,650,1155,664,1149"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,1473,327,1500"/>
<area shape="poly" title=" " alt="" coords="475,1361,419,1412,384,1440,346,1464,320,1475,318,1470,344,1459,381,1435,416,1408,471,1357"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,1524,342,1551"/>
<area shape="poly" title=" " alt="" coords="483,1363,429,1437,390,1479,346,1514,324,1526,321,1521,344,1510,387,1475,425,1434,479,1359"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,1001,332,1044"/>
<area shape="poly" title=" " alt="" coords="394,1314,391,1311,369,1279,360,1247,359,1216,364,1184,368,1153,369,1122,362,1090,343,1058,331,1046,334,1042,347,1054,367,1088,374,1121,374,1154,369,1185,365,1216,365,1247,374,1277,395,1308,397,1310"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,1068,345,1095"/>
<area shape="poly" title=" " alt="" coords="394,1314,391,1311,372,1286,364,1260,363,1234,365,1208,368,1183,367,1158,360,1133,343,1108,328,1097,332,1093,347,1105,365,1131,372,1157,373,1183,371,1209,368,1234,369,1259,377,1283,395,1307,398,1310"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,1575,303,1601"/>
<area shape="poly" title=" " alt="" coords="488,1363,468,1407,437,1461,397,1517,373,1542,347,1565,326,1576,304,1584,303,1579,324,1572,343,1560,369,1538,392,1513,433,1458,463,1404,484,1361"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,1625,303,1652"/>
<area shape="poly" title=" " alt="" coords="492,1364,474,1417,444,1485,402,1555,376,1587,347,1615,326,1628,304,1635,303,1630,324,1623,343,1611,372,1583,398,1552,439,1482,469,1415,487,1362"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,1676,326,1703"/>
<area shape="poly" title=" " alt="" coords="494,1364,479,1426,451,1507,432,1550,408,1592,380,1631,347,1666,329,1678,326,1673,343,1662,376,1628,404,1589,427,1548,446,1505,474,1425,489,1363"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,1119,326,1145"/>
<area shape="poly" title=" " alt="" coords="395,1315,391,1311,376,1292,368,1273,366,1234,364,1196,357,1177,343,1159,325,1147,328,1142,347,1155,362,1175,369,1195,371,1234,373,1272,380,1290,395,1307,399,1310"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,1169,326,1196"/>
<area shape="poly" title=" " alt="" coords="397,1315,391,1311,379,1299,372,1286,366,1260,360,1234,354,1222,343,1210,326,1199,328,1194,347,1206,358,1219,365,1232,371,1258,377,1284,384,1296,395,1307,400,1311"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,1220,326,1247"/>
<area shape="poly" title=" " alt="" coords="403,1317,392,1311,376,1299,367,1286,358,1273,344,1261,320,1250,323,1245,346,1256,362,1269,371,1283,380,1295,394,1307,405,1313"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,1271,326,1297"/>
<area shape="poly" title=" " alt="" coords="418,1320,326,1300,327,1295,419,1315"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,1321,326,1348"/>
<area shape="poly" title=" " alt="" coords="388,1337,327,1337,327,1332,388,1332"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,1372,326,1399"/>
<area shape="poly" title=" " alt="" coords="419,1354,327,1375,326,1369,418,1349"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,1423,326,1449"/>
<area shape="poly" title=" " alt="" coords="460,1358,407,1385,346,1413,315,1424,313,1419,344,1408,404,1381,458,1353"/>
<area shape="rect" href="group__driver1.html#ga60c16d2b5323dc486ad6208a244ed7ae" title="Unified GPIO interrupt handler for PLUS, MINUS, and SET buttons." alt="" coords="32,1473,110,1500"/>
<area shape="poly" title=" " alt="" coords="187,1489,111,1489,111,1484,187,1484"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,748,137,775"/>
<area shape="poly" title=" " alt="" coords="195,995,183,984,160,959,140,930,108,870,86,815,73,776,79,774,91,813,113,868,145,927,164,955,187,981,198,991"/>
<area shape="poly" title=" " alt="" coords="403,1305,395,1311,380,1329,373,1347,371,1385,369,1424,362,1444,347,1463,329,1476,326,1471,343,1459,357,1441,364,1423,366,1384,368,1346,376,1326,391,1307,399,1301"/>
<area shape="poly" title=" " alt="" coords="403,1304,395,1311,377,1335,369,1360,368,1384,371,1409,373,1435,372,1461,365,1487,347,1514,332,1526,328,1521,343,1510,360,1485,367,1460,368,1435,365,1410,363,1384,364,1359,372,1333,391,1307,400,1300"/>
<area shape="poly" title=" " alt="" coords="471,1261,432,1215,391,1159,377,1129,370,1105,362,1082,343,1058,328,1047,331,1042,347,1054,366,1079,375,1103,382,1128,395,1156,436,1211,475,1257"/>
<area shape="poly" title=" " alt="" coords="474,1260,401,1171,343,1109,321,1097,324,1093,347,1104,405,1167,478,1256"/>
<area shape="poly" title=" " alt="" coords="404,1304,395,1311,374,1342,366,1372,366,1403,371,1434,375,1466,376,1499,368,1531,347,1564,327,1579,304,1587,303,1582,325,1574,343,1561,363,1529,371,1498,370,1467,365,1435,360,1403,360,1371,369,1339,391,1307,400,1300"/>
<area shape="poly" title=" " alt="" coords="403,1303,395,1311,380,1330,370,1348,362,1385,363,1422,370,1460,378,1498,380,1536,371,1575,361,1595,347,1615,327,1630,304,1638,303,1633,325,1625,343,1611,357,1592,366,1574,374,1536,372,1498,365,1460,358,1423,356,1384,365,1346,376,1327,391,1307,400,1299"/>
<area shape="poly" title=" " alt="" coords="403,1303,395,1311,378,1333,367,1354,360,1376,358,1397,361,1441,370,1485,380,1529,383,1574,375,1619,363,1642,347,1666,329,1680,325,1676,343,1662,359,1640,369,1618,378,1574,374,1530,365,1486,355,1442,352,1397,355,1375,362,1352,374,1330,391,1307,400,1299"/>
<area shape="poly" title=" " alt="" coords="471,1261,416,1210,381,1183,344,1160,318,1148,320,1143,346,1155,384,1179,419,1206,475,1257"/>
<area shape="poly" title=" " alt="" coords="458,1265,404,1238,344,1210,313,1199,315,1194,346,1205,407,1233,460,1260"/>
<area shape="poly" title=" " alt="" coords="418,1269,326,1249,327,1244,419,1264"/>
<area shape="poly" title=" " alt="" coords="400,1287,327,1287,327,1281,400,1281"/>
<area shape="poly" title=" " alt="" coords="419,1304,327,1324,326,1319,418,1299"/>
<area shape="poly" title=" " alt="" coords="405,1306,394,1311,380,1323,371,1336,362,1349,346,1362,323,1374,320,1369,344,1358,358,1345,367,1333,376,1320,392,1307,403,1301"/>
<area shape="poly" title=" " alt="" coords="403,1305,395,1311,384,1323,377,1335,371,1360,365,1386,358,1400,347,1413,328,1424,326,1420,343,1409,354,1397,360,1384,366,1359,372,1333,379,1320,391,1307,400,1301"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,1169,832,1196"/>
<area shape="poly" title=" " alt="" coords="882,1183,832,1184,832,1178,881,1177"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,1224,821,1251"/>
<area shape="poly" title=" " alt="" coords="864,1240,821,1240,821,1235,864,1235"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,1275,817,1301"/>
<area shape="poly" title=" " alt="" coords="868,1291,818,1291,818,1285,868,1285"/>
<area shape="poly" title=" " alt="" coords="960,555,945,450,918,307,900,236,879,171,856,119,830,86,796,63,759,48,719,39,678,34,600,36,537,46,537,40,600,31,678,29,720,33,760,43,799,59,833,82,860,117,884,169,905,234,923,306,950,449,965,555"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,140,304,167"/>
<area shape="poly" title=" " alt="" coords="952,557,908,469,875,412,834,350,787,288,732,229,670,178,602,137,578,130,545,127,463,129,376,139,304,149,304,144,375,133,463,124,545,122,579,125,604,132,673,173,735,225,791,284,839,347,880,409,913,467,957,555"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,985,810,1012"/>
<area shape="poly" title=" " alt="" coords="954,612,753,986,748,983,949,609"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,571,775,597"/>
<area shape="poly" title=" " alt="" coords="875,587,775,587,775,581,875,581"/>
<area shape="poly" title=" " alt="" coords="211,156,120,156,120,151,211,151"/>
<area shape="poly" title=" " alt="" coords="661,1021,653,1026,637,1044,630,1063,622,1083,605,1102,581,1116,555,1125,553,1120,578,1111,602,1098,617,1080,625,1061,633,1041,650,1022,658,1016"/>
<area shape="poly" title=" " alt="" coords="661,1020,653,1026,640,1041,631,1056,624,1087,620,1120,606,1158,559,1224,516,1272,512,1268,555,1221,601,1156,615,1119,619,1086,626,1054,635,1038,649,1022,658,1015"/>
<area shape="poly" title=" " alt="" coords="725,557,688,471,649,362,636,297,634,244,627,194,617,166,601,136,585,115,565,96,524,68,528,64,568,92,589,111,606,133,622,164,632,192,639,244,641,296,654,361,693,469,730,555"/>
<area shape="poly" title=" " alt="" coords="692,571,650,547,634,531,625,515,616,500,602,485,548,449,501,430,451,413,392,384,299,325,212,263,88,169,91,165,215,259,302,320,394,379,453,408,502,425,550,444,605,481,621,497,629,513,638,528,653,543,695,566"/>
<area shape="poly" title=" " alt="" coords="744,613,740,694,734,746,722,803,705,860,681,915,648,965,605,1007,574,1027,540,1040,504,1049,467,1053,395,1051,332,1042,333,1037,395,1046,467,1047,503,1043,538,1035,571,1022,602,1003,644,962,676,913,700,858,717,801,728,745,735,693,738,613"/>
<area shape="poly" title=" " alt="" coords="720,611,671,658,639,682,604,701,544,724,480,742,415,754,351,763,232,770,137,768,137,763,232,764,350,757,414,749,479,737,542,719,602,696,636,677,667,654,717,607"/>
<area shape="poly" title=" " alt="" coords="737,613,677,860,638,989,621,1034,605,1058,573,1079,538,1093,500,1103,462,1107,388,1106,324,1098,325,1092,388,1101,462,1102,499,1097,536,1088,570,1074,601,1054,616,1031,633,987,671,859,731,611"/>
<area shape="poly" title=" " alt="" coords="725,557,689,471,649,362,642,333,639,307,639,260,637,239,632,220,621,200,602,181,567,158,529,143,488,134,447,131,367,135,304,146,303,141,367,130,447,126,489,129,531,138,570,153,605,176,625,197,637,218,643,238,644,260,644,306,647,332,654,360,694,469,730,555"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,191,558,217"/>
<area shape="poly" title=" " alt="" coords="726,557,649,362,638,322,634,290,625,260,602,231,581,218,557,211,559,205,583,213,605,227,630,258,639,288,644,321,654,360,731,555"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,241,603,268"/>
<area shape="poly" title=" " alt="" coords="727,557,662,399,626,322,601,282,583,271,586,266,605,278,631,320,667,397,732,555"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,799,603,825"/>
<area shape="poly" title=" " alt="" coords="731,613,711,651,684,696,648,742,605,782,569,800,566,796,602,778,644,739,679,693,707,648,726,610"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,849,565,892"/>
<area shape="poly" title=" " alt="" coords="735,613,719,662,692,723,655,785,631,814,605,839,587,851,567,860,565,855,584,847,602,835,627,810,650,782,687,720,714,660,730,611"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,916,575,943"/>
<area shape="poly" title=" " alt="" coords="739,613,727,674,703,754,686,795,664,836,637,873,605,906,576,922,574,917,602,902,633,870,659,833,681,793,698,752,722,673,734,612"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,967,561,993"/>
<area shape="poly" title=" " alt="" coords="741,613,732,683,710,776,693,825,670,873,641,918,605,957,585,970,562,978,561,972,583,965,602,953,637,914,665,871,688,823,705,774,727,682,736,612"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,292,553,319"/>
<area shape="poly" title=" " alt="" coords="731,557,715,508,689,447,652,385,628,357,602,333,579,320,553,312,555,307,581,315,605,328,632,353,656,382,694,444,720,506,736,555"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,545,580,572"/>
<area shape="poly" title=" " alt="" coords="692,581,580,570,581,564,692,576"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,647,298,673"/>
<area shape="poly" title=" " alt="" coords="693,595,604,611,299,658,298,652,603,605,692,590"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,697,312,724"/>
<area shape="poly" title=" " alt="" coords="702,607,656,629,604,649,525,671,445,688,313,708,312,703,444,682,524,666,603,644,654,624,700,602"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,495,293,521"/>
<area shape="poly" title=" " alt="" coords="708,564,660,535,603,512,516,498,428,495,351,500,294,506,293,501,350,494,428,490,516,492,604,507,663,530,711,559"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,545,311,572"/>
<area shape="poly" title=" " alt="" coords="697,566,652,549,603,536,545,528,499,526,393,536,312,550,311,545,393,531,498,521,545,522,604,531,654,544,699,561"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="222,596,308,623"/>
<area shape="poly" title=" " alt="" coords="692,589,308,610,308,604,692,584"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,343,572,369"/>
<area shape="poly" title=" " alt="" coords="726,558,707,520,679,475,644,429,602,390,566,372,569,367,605,386,648,425,684,472,711,517,731,555"/>
<area shape="poly" title=" " alt="" coords="378,804,184,783,137,775,137,770,185,777,378,799"/>
<area shape="poly" title=" " alt="" coords="415,859,305,836,184,805,105,778,107,773,185,800,306,831,416,853"/>
<area shape="poly" title=" " alt="" coords="406,917,297,891,239,871,183,848,128,812,85,777,89,773,131,808,186,843,241,866,299,886,407,912"/>
<area shape="poly" title=" " alt="" coords="420,978,365,971,303,958,241,937,183,907,146,876,115,840,77,776,81,773,120,837,150,873,186,903,243,932,305,953,366,966,421,973"/>
<area shape="poly" title=" " alt="" coords="479,533,391,383,271,168,276,166,395,380,483,530"/>
<area shape="poly" title=" " alt="" coords="460,582,407,609,346,637,300,653,298,648,344,632,404,605,458,577"/>
<area shape="poly" title=" " alt="" coords="475,585,419,636,384,664,346,688,314,701,312,696,344,683,381,659,416,632,471,581"/>
<area shape="poly" title=" " alt="" coords="418,544,293,516,294,511,419,539"/>
<area shape="poly" title=" " alt="" coords="401,561,311,561,311,556,401,556"/>
<area shape="poly" title=" " alt="" coords="419,578,309,603,308,597,418,573"/>
<area shape="poly" title=" " alt="" coords="217,675,186,688,133,719,91,750,88,745,130,714,183,683,215,670"/>
<area shape="poly" title=" " alt="" coords="203,729,126,750,124,745,202,724"/>
<area shape="poly" title=" " alt="" coords="222,517,203,524,186,535,162,560,141,588,109,649,89,707,78,748,73,747,84,705,104,647,137,585,158,556,183,531,201,520,220,512"/>
<area shape="poly" title=" " alt="" coords="205,575,186,586,147,626,116,672,94,715,80,748,75,746,89,713,111,669,143,622,183,582,203,570"/>
<area shape="poly" title=" " alt="" coords="208,626,186,637,153,664,123,695,83,749,79,746,119,691,149,660,183,632,206,621"/>
<area shape="poly" title=" " alt="" coords="958,991,926,847,897,743,860,625,812,499,753,372,683,249,644,191,601,136,561,97,520,68,524,64,564,93,605,133,648,188,688,246,758,370,817,497,865,623,903,741,931,846,963,990"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,1036,810,1063"/>
<area shape="poly" title=" " alt="" coords="876,1034,811,1043,810,1037,875,1028"/>
</map>
</div>

</div>
</div>
<a id="gab5dab0ee57bf9b5391fbf6b96be35677" name="gab5dab0ee57bf9b5391fbf6b96be35677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5dab0ee57bf9b5391fbf6b96be35677">&#9670;&#160;</a></span>mcp_display_read_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t mcp_display_read_pin </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the digital value from a specific MCP23017 pin. </p>
<p>Read the digital value from a specific MCP23017 pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The pin number (0-15). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = low, 1 = high. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_cgraph.png" border="0" usemap="#agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_cgraph" id="agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_cgraph">
<area shape="rect" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="5,132,156,159"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="424,5,480,32"/>
<area shape="poly" title=" " alt="" coords="112,129,203,92,313,56,408,28,409,33,315,61,205,97,114,134"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="204,107,322,133"/>
<area shape="poly" title=" " alt="" coords="156,132,188,128,189,133,156,138"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="413,157,490,184"/>
<area shape="poly" title=" " alt="" coords="156,148,397,164,397,170,156,153"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="406,208,497,235"/>
<area shape="poly" title=" " alt="" coords="150,157,392,207,391,212,149,162"/>
<area shape="poly" title=" " alt="" coords="281,104,321,77,369,48,408,31,410,36,371,53,324,81,284,108"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="581,81,641,108"/>
<area shape="poly" title=" " alt="" coords="311,103,370,92,475,86,566,89,566,94,475,92,370,97,312,109"/>
<area shape="poly" title=" " alt="" coords="316,131,399,154,397,159,315,137"/>
<area shape="poly" title=" " alt="" coords="282,132,321,163,371,194,393,203,390,208,369,198,318,167,278,136"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="370,107,533,133"/>
<area shape="poly" title=" " alt="" coords="323,117,354,117,354,123,323,123"/>
<area shape="poly" title=" " alt="" coords="533,104,565,99,566,104,534,110"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_icgraph.png" border="0" usemap="#agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_icgraph" id="agroup__driver5_gab5dab0ee57bf9b5391fbf6b96be35677_icgraph">
<area shape="rect" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="1101,360,1252,387"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="865,360,1053,387"/>
<area shape="poly" title=" " alt="" coords="1086,376,1054,376,1054,371,1086,371"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="904,411,1014,437"/>
<area shape="poly" title=" " alt="" coords="1102,393,1015,414,1014,409,1100,388"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="876,309,1042,336"/>
<area shape="poly" title=" " alt="" coords="1100,358,1019,339,1020,334,1102,353"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="675,309,799,336"/>
<area shape="poly" title=" " alt="" coords="882,359,798,339,799,334,883,353"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="659,360,814,387"/>
<area shape="poly" title=" " alt="" coords="849,376,815,376,815,371,849,371"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="670,411,804,453"/>
<area shape="poly" title=" " alt="" coords="892,394,805,417,804,412,890,389"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="657,477,817,504"/>
<area shape="poly" title=" " alt="" coords="874,396,867,401,851,416,843,433,835,450,819,467,798,479,795,474,815,463,831,447,838,431,847,413,863,397,872,391"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="699,528,775,555"/>
<area shape="poly" title=" " alt="" coords="871,397,867,401,855,414,848,428,843,457,839,488,831,503,819,518,798,531,776,539,774,534,796,526,815,514,827,500,833,486,838,457,843,427,850,411,863,397,868,393"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="699,579,775,605"/>
<area shape="poly" title=" " alt="" coords="870,398,867,400,852,421,844,441,843,482,842,525,835,547,819,569,799,582,776,590,775,585,796,578,815,565,830,544,837,524,838,482,839,440,847,418,863,397,866,394"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="675,629,798,656"/>
<area shape="poly" title=" " alt="" coords="870,398,867,400,848,427,841,453,840,480,843,507,846,535,846,563,838,591,819,619,801,633,797,628,815,615,833,589,840,562,841,535,838,508,835,480,835,452,844,425,863,397,866,394"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="675,680,798,707"/>
<area shape="poly" title=" " alt="" coords="869,398,867,400,845,433,837,466,838,499,843,532,848,566,849,600,841,635,819,670,800,684,797,679,815,666,836,633,844,600,843,566,838,533,832,499,831,465,840,431,863,397,866,394"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="675,5,798,32"/>
<area shape="poly" title=" " alt="" coords="865,352,863,350,838,311,829,272,831,234,838,196,845,159,847,121,838,84,815,46,797,32,801,28,819,42,843,82,852,121,850,159,843,197,836,235,834,272,843,309,867,346,869,349"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="675,56,798,83"/>
<area shape="poly" title=" " alt="" coords="866,352,863,350,841,318,833,285,833,253,838,222,842,190,843,159,835,128,815,96,798,83,801,79,819,93,840,126,848,158,848,191,843,222,838,254,838,285,846,315,867,346,869,349"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="675,107,798,133"/>
<area shape="poly" title=" " alt="" coords="866,353,863,350,845,324,837,298,835,272,838,247,840,222,839,197,832,172,815,147,797,134,800,130,819,143,837,170,845,196,846,222,843,247,841,273,842,297,849,322,867,346,870,349"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="675,157,798,184"/>
<area shape="poly" title=" " alt="" coords="867,353,863,350,848,331,840,311,838,273,836,235,829,216,815,198,797,186,800,181,819,194,834,214,841,233,843,272,846,310,853,328,867,346,871,349"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="675,208,798,235"/>
<area shape="poly" title=" " alt="" coords="869,354,863,350,851,337,844,324,838,298,832,273,826,261,815,249,798,237,800,233,819,245,830,258,837,271,843,297,849,322,856,334,867,346,872,350"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="675,259,798,285"/>
<area shape="poly" title=" " alt="" coords="875,356,864,350,848,338,839,324,830,312,816,300,792,288,795,283,818,295,834,308,843,321,852,334,866,346,877,351"/>
<area shape="rect" href="group__driver1.html#ga60c16d2b5323dc486ad6208a244ed7ae" title="Unified GPIO interrupt handler for PLUS, MINUS, and SET buttons." alt="" coords="500,309,578,336"/>
<area shape="poly" title=" " alt="" coords="659,325,579,325,579,320,659,320"/>
<area shape="rect" href="group__driver1.html#ga71b68eb02e1df1dada387c9fbb7bbb37" title="Initialize button GPIO interrupts and synchronize UI selection." alt="" coords="292,309,412,336"/>
<area shape="poly" title=" " alt="" coords="485,325,413,325,413,320,485,320"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="154,309,231,336"/>
<area shape="poly" title=" " alt="" coords="277,325,231,325,231,320,277,320"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="5,360,102,387"/>
<area shape="poly" title=" " alt="" coords="140,344,93,362,91,357,139,339"/>
<area shape="rect" href="group__webui3.html#ga52702a4dcaff4540a9ddd10e4d5f4525" title="Processes incoming HTTP requests." alt="" coords="469,360,609,387"/>
<area shape="poly" title=" " alt="" coords="644,376,609,376,609,371,644,371"/>
<area shape="rect" href="group__main02.html#gad25e95c5993e865b3f941472b7a328e0" title="Core 1 task for handling SNMP and HTTP server." alt="" coords="150,360,235,387"/>
<area shape="poly" title=" " alt="" coords="454,376,235,376,235,371,454,371"/>
<area shape="poly" title=" " alt="" coords="134,376,102,376,102,371,134,371"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="473,415,605,441"/>
<area shape="poly" title=" " alt="" coords="654,433,605,432,605,427,655,428"/>
<area shape="rect" href="group__uart.html#ga6c04950ec7c317f61e910caa14e9e893" title="Main loop for reading and processing UART commands." alt="" coords="283,415,421,441"/>
<area shape="poly" title=" " alt="" coords="458,431,422,431,422,425,458,425"/>
<area shape="poly" title=" " alt="" coords="267,421,149,401,101,390,102,384,150,396,268,415"/>
<area shape="poly" title=" " alt="" coords="860,325,799,325,799,320,860,320"/>
<area shape="poly" title=" " alt="" coords="883,343,799,362,798,357,882,337"/>
<area shape="poly" title=" " alt="" coords="877,345,866,350,852,362,843,374,834,387,819,401,799,412,796,408,815,397,830,384,838,371,848,358,864,346,875,340"/>
<area shape="poly" title=" " alt="" coords="871,346,867,350,855,364,848,378,843,407,839,437,831,452,819,467,802,479,799,475,815,463,827,449,833,435,838,406,843,376,850,361,863,346,868,342"/>
<area shape="poly" title=" " alt="" coords="870,347,867,350,852,370,844,390,843,432,842,474,835,496,819,518,799,532,776,540,775,534,796,527,815,514,830,494,837,473,838,431,839,389,847,367,863,346,866,343"/>
<area shape="poly" title=" " alt="" coords="870,347,867,350,848,376,841,403,840,429,843,456,846,484,846,512,838,540,819,569,799,583,776,591,775,586,797,578,815,565,833,538,840,511,841,484,838,457,835,430,835,402,844,374,863,346,866,343"/>
<area shape="poly" title=" " alt="" coords="869,347,867,350,845,383,837,415,838,448,843,482,848,515,849,550,841,584,819,619,800,633,797,629,815,616,836,582,844,549,843,516,838,482,832,449,831,415,840,381,863,346,866,344"/>
<area shape="poly" title=" " alt="" coords="869,347,867,350,852,370,842,389,833,428,835,467,843,507,851,547,853,587,844,628,834,649,819,670,801,684,797,680,815,666,830,646,839,626,848,587,845,547,837,508,830,468,828,428,837,387,847,367,863,346,865,344"/>
<area shape="poly" title=" " alt="" coords="949,295,933,242,906,175,868,105,843,74,815,46,798,35,800,30,819,42,847,70,872,103,911,172,938,240,954,293"/>
<area shape="poly" title=" " alt="" coords="946,296,927,252,899,198,862,144,840,119,815,97,796,85,799,81,819,93,844,115,866,140,904,196,932,250,951,294"/>
<area shape="poly" title=" " alt="" coords="941,297,892,223,856,182,816,148,794,136,796,131,818,143,860,178,896,219,946,294"/>
<area shape="poly" title=" " alt="" coords="934,299,883,248,850,222,816,198,791,187,793,182,818,194,854,217,886,244,938,296"/>
<area shape="poly" title=" " alt="" coords="921,303,872,276,816,249,785,238,787,233,818,244,874,271,923,299"/>
<area shape="poly" title=" " alt="" coords="882,308,798,289,799,283,883,303"/>
</map>
</div>

</div>
</div>
<a id="ga0fd18363fa5f18fddf814181b0a4c892" name="ga0fd18363fa5f18fddf814181b0a4c892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fd18363fa5f18fddf814181b0a4c892">&#9670;&#160;</a></span>mcp_display_read_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t mcp_display_read_reg </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a value from a specified MCP23017 register (guarded). </p>
<p>Read a value from a specific MCP23017 register (mutex-guarded). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga0fd18363fa5f18fddf814181b0a4c892_cgraph.png" border="0" usemap="#agroup__driver5_ga0fd18363fa5f18fddf814181b0a4c892_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga0fd18363fa5f18fddf814181b0a4c892_cgraph" id="agroup__driver5_ga0fd18363fa5f18fddf814181b0a4c892_cgraph">
<area shape="rect" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="5,132,157,159"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="424,5,481,32"/>
<area shape="poly" title=" " alt="" coords="113,129,204,92,314,56,409,28,410,33,316,61,206,97,115,134"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="205,107,323,133"/>
<area shape="poly" title=" " alt="" coords="157,132,189,128,189,133,158,137"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="414,157,491,184"/>
<area shape="poly" title=" " alt="" coords="157,148,399,164,398,170,157,153"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="407,208,498,235"/>
<area shape="poly" title=" " alt="" coords="151,157,393,207,391,212,149,162"/>
<area shape="poly" title=" " alt="" coords="282,104,322,77,370,48,409,31,411,36,372,53,325,81,285,108"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="582,81,642,108"/>
<area shape="poly" title=" " alt="" coords="312,103,371,92,476,86,567,89,567,94,476,92,371,97,313,109"/>
<area shape="poly" title=" " alt="" coords="317,131,400,154,398,159,316,137"/>
<area shape="poly" title=" " alt="" coords="283,132,322,163,372,194,394,203,391,208,370,198,319,167,279,136"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="371,107,534,133"/>
<area shape="poly" title=" " alt="" coords="324,117,355,117,355,123,324,123"/>
<area shape="poly" title=" " alt="" coords="534,104,566,99,567,104,535,110"/>
</map>
</div>

</div>
</div>
<a id="ga39af0b095f233b2e5f7cddb401bd4f85" name="ga39af0b095f233b2e5f7cddb401bd4f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39af0b095f233b2e5f7cddb401bd4f85">&#9670;&#160;</a></span>mcp_display_resync_from_hw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_resync_from_hw </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-sync software shadows from hardware OLAT (optional utility). </p>
<p>Re-sync software shadow latches from hardware OLAT registers. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_cgraph.png" border="0" usemap="#agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_cgraph" id="agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_cgraph">
<area shape="rect" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="5,124,146,167"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="414,5,470,32"/>
<area shape="poly" title=" " alt="" coords="123,121,193,92,303,55,397,28,399,33,305,60,195,97,125,126"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="194,107,312,133"/>
<area shape="poly" title=" " alt="" coords="145,133,178,128,179,133,146,138"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="403,157,480,184"/>
<area shape="poly" title=" " alt="" coords="146,147,388,164,387,170,146,153"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="396,208,487,235"/>
<area shape="poly" title=" " alt="" coords="147,157,381,206,380,211,146,162"/>
<area shape="poly" title=" " alt="" coords="271,104,311,77,359,48,398,31,400,36,361,53,314,81,274,108"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="571,81,631,108"/>
<area shape="poly" title=" " alt="" coords="301,103,360,92,465,86,556,89,556,94,465,92,360,97,302,109"/>
<area shape="poly" title=" " alt="" coords="306,131,389,154,387,159,305,137"/>
<area shape="poly" title=" " alt="" coords="272,132,311,163,361,194,383,203,380,208,359,198,308,167,268,136"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="360,107,523,133"/>
<area shape="poly" title=" " alt="" coords="313,117,344,117,344,123,313,123"/>
<area shape="poly" title=" " alt="" coords="523,104,555,99,556,104,524,110"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_icgraph.png" border="0" usemap="#agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_icgraph" id="agroup__driver5_ga39af0b095f233b2e5f7cddb401bd4f85_icgraph">
<area shape="rect" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="234,5,374,48"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="5,13,186,40"/>
<area shape="poly" title=" " alt="" coords="218,29,186,29,186,24,218,24"/>
</map>
</div>

</div>
</div>
<a id="ga9c72d2272fc0f47e7444780804185ce1" name="ga9c72d2272fc0f47e7444780804185ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c72d2272fc0f47e7444780804185ce1">&#9670;&#160;</a></span>mcp_display_set_direction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_set_direction </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>direction</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the direction of a specific MCP23017 pin. </p>
<p>Set the direction of a specific MCP23017 pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The pin number (0-15). </td></tr>
    <tr><td class="paramname">direction</td><td>0 = output, 1 = input. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga9c72d2272fc0f47e7444780804185ce1_cgraph.png" border="0" usemap="#agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_cgraph" id="agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_cgraph">
<area shape="rect" title="Sets the direction of a specific MCP23017 pin." alt="" coords="5,134,181,161"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="448,33,505,60"/>
<area shape="poly" title=" " alt="" coords="146,131,433,55,434,60,148,136"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="606,84,666,110"/>
<area shape="poly" title=" " alt="" coords="116,131,164,104,232,71,311,40,394,19,478,4,515,5,559,19,594,41,619,69,615,73,590,45,557,24,514,10,479,9,396,24,313,45,234,76,167,109,118,136"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="229,134,347,161"/>
<area shape="poly" title=" " alt="" coords="181,145,213,145,213,150,181,150"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="438,185,515,212"/>
<area shape="poly" title=" " alt="" coords="163,159,229,170,423,192,422,197,228,176,162,164"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="431,236,522,262"/>
<area shape="poly" title=" " alt="" coords="134,159,229,189,416,234,415,239,228,194,133,164"/>
<area shape="poly" title=" " alt="" coords="306,132,346,105,394,76,433,59,435,64,396,81,349,109,309,136"/>
<area shape="poly" title=" " alt="" coords="341,131,395,120,500,106,590,97,591,103,500,111,395,125,342,136"/>
<area shape="poly" title=" " alt="" coords="341,159,424,182,422,187,340,164"/>
<area shape="poly" title=" " alt="" coords="307,160,346,190,396,221,418,231,415,235,394,226,343,195,303,164"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="395,134,558,161"/>
<area shape="poly" title=" " alt="" coords="348,145,379,145,379,150,348,150"/>
<area shape="poly" title=" " alt="" coords="520,131,591,109,592,114,522,136"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga9c72d2272fc0f47e7444780804185ce1_icgraph.png" border="0" usemap="#agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_icgraph" id="agroup__driver5_ga9c72d2272fc0f47e7444780804185ce1_icgraph">
<area shape="rect" title="Sets the direction of a specific MCP23017 pin." alt="" coords="212,5,387,32"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="5,5,164,32"/>
<area shape="poly" title=" " alt="" coords="196,21,164,21,164,16,196,16"/>
</map>
</div>

</div>
</div>
<a id="gabab90d2661d617d3ea609d7a3a5a9042" name="gabab90d2661d617d3ea609d7a3a5a9042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabab90d2661d617d3ea609d7a3a5a9042">&#9670;&#160;</a></span>mcp_display_write_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_write_mask </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port_ab</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value_bits</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Atomically set/clear a group of bits on a given port from a mask. </p>
<p>Atomically set or clear a group of bits on a given port using a mask.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port_ab</td><td>0 for Port A, 1 for Port B </td></tr>
    <tr><td class="paramname">mask</td><td>Bits to affect </td></tr>
    <tr><td class="paramname">value_bits</td><td>Values for those bits (only masked bits are applied) </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gabab90d2661d617d3ea609d7a3a5a9042_cgraph.png" border="0" usemap="#agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_cgraph" id="agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_cgraph">
<area shape="rect" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="5,132,174,159"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="222,107,340,133"/>
<area shape="poly" title=" " alt="" coords="174,132,206,127,207,132,174,137"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="431,157,508,184"/>
<area shape="poly" title=" " alt="" coords="174,148,416,164,415,170,174,154"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="424,208,515,235"/>
<area shape="poly" title=" " alt="" coords="161,157,409,207,408,212,160,162"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="388,5,551,32"/>
<area shape="poly" title=" " alt="" coords="124,129,221,92,404,34,406,39,223,97,125,134"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="442,107,498,133"/>
<area shape="poly" title=" " alt="" coords="341,117,426,117,426,123,341,123"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="599,31,659,57"/>
<area shape="poly" title=" " alt="" coords="339,103,387,92,584,50,585,55,389,97,340,109"/>
<area shape="poly" title=" " alt="" coords="334,131,417,154,415,159,333,137"/>
<area shape="poly" title=" " alt="" coords="300,132,339,163,389,194,411,203,408,208,387,198,336,167,296,136"/>
<area shape="poly" title=" " alt="" coords="299,104,339,77,387,48,414,36,416,41,389,53,342,81,302,108"/>
<area shape="poly" title=" " alt="" coords="552,29,584,34,583,40,551,34"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gabab90d2661d617d3ea609d7a3a5a9042_icgraph.png" border="0" usemap="#agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_icgraph" id="agroup__driver5_gabab90d2661d617d3ea609d7a3a5a9042_icgraph">
<area shape="rect" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="205,5,373,32"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="5,5,157,32"/>
<area shape="poly" title=" " alt="" coords="189,21,157,21,157,16,189,16"/>
</map>
</div>

</div>
</div>
<a id="ga1f2aea8f1cb5fb271e2b68ab119fa503" name="ga1f2aea8f1cb5fb271e2b68ab119fa503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f2aea8f1cb5fb271e2b68ab119fa503">&#9670;&#160;</a></span>mcp_display_write_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_write_pin </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a digital value to a specific MCP23017 pin. Uses shadowed whole-port writes under a mutex to avoid races. </p>
<p>Write a digital value to a specific MCP23017 pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>The pin number (0-15). </td></tr>
    <tr><td class="paramname">value</td><td>0 = low, 1 = high. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_cgraph.png" border="0" usemap="#agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_cgraph" id="agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_cgraph">
<area shape="rect" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="5,132,159,159"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="207,107,325,133"/>
<area shape="poly" title=" " alt="" coords="159,132,191,128,191,133,159,137"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="416,157,493,184"/>
<area shape="poly" title=" " alt="" coords="159,148,401,164,400,170,159,153"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="409,208,500,235"/>
<area shape="poly" title=" " alt="" coords="152,157,394,207,393,212,151,162"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="373,5,536,32"/>
<area shape="poly" title=" " alt="" coords="114,129,206,92,388,34,390,39,208,97,116,134"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="426,107,483,133"/>
<area shape="poly" title=" " alt="" coords="326,117,411,117,411,123,326,123"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="584,31,644,57"/>
<area shape="poly" title=" " alt="" coords="324,103,372,92,569,50,570,55,374,97,325,109"/>
<area shape="poly" title=" " alt="" coords="319,131,402,154,400,159,318,137"/>
<area shape="poly" title=" " alt="" coords="285,132,324,163,374,194,396,203,393,208,372,198,321,167,281,136"/>
<area shape="poly" title=" " alt="" coords="284,104,324,77,372,48,399,36,401,41,374,53,327,81,287,108"/>
<area shape="poly" title=" " alt="" coords="537,29,569,34,568,40,536,34"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_icgraph.png" border="0" usemap="#agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_icgraph" id="agroup__driver5_ga1f2aea8f1cb5fb271e2b68ab119fa503_icgraph">
<area shape="rect" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="1427,761,1580,788"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="180,752,258,779"/>
<area shape="poly" title=" " alt="" coords="1498,746,1492,674,1478,572,1455,451,1418,324,1394,263,1366,204,1334,151,1296,103,1253,64,1205,34,1151,15,1090,8,608,8,547,15,492,36,444,67,403,109,366,159,335,215,309,277,287,341,255,471,236,592,226,690,223,752,218,751,221,690,231,591,250,470,282,339,304,275,330,213,362,156,398,106,441,63,490,31,545,10,608,3,1091,3,1152,10,1207,29,1256,60,1300,100,1338,148,1371,202,1399,260,1423,323,1460,450,1484,571,1497,674,1503,746"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="793,1639,870,1665"/>
<area shape="poly" title=" " alt="" coords="1500,804,1463,987,1433,1118,1396,1259,1354,1398,1306,1525,1280,1579,1253,1626,1225,1663,1196,1690,1154,1712,1108,1723,1060,1724,1012,1719,966,1709,924,1695,859,1668,861,1664,926,1690,968,1703,1013,1714,1060,1719,1107,1717,1152,1707,1193,1686,1221,1660,1248,1623,1275,1577,1301,1522,1349,1397,1391,1257,1428,1116,1458,986,1494,803"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="1242,397,1379,424"/>
<area shape="poly" title=" " alt="" coords="1485,749,1317,426,1321,423,1490,746"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="1277,1120,1344,1147"/>
<area shape="poly" title=" " alt="" coords="1490,803,1321,1121,1317,1118,1485,800"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="5,1021,102,1048"/>
<area shape="poly" title=" " alt="" coords="204,793,65,1023,61,1020,199,791"/>
<area shape="poly" title=" " alt="" coords="777,1638,725,1614,548,1509,478,1462,416,1416,294,1309,148,1163,97,1102,61,1050,66,1047,101,1099,152,1160,298,1305,419,1412,481,1458,551,1504,728,1610,779,1633"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="1034,347,1144,373"/>
<area shape="poly" title=" " alt="" coords="1234,396,1144,375,1145,370,1235,391"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="1006,397,1172,424"/>
<area shape="poly" title=" " alt="" coords="1227,413,1173,413,1173,408,1227,408"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="769,296,894,323"/>
<area shape="poly" title=" " alt="" coords="994,393,983,388,967,375,958,362,949,349,935,337,893,321,895,316,937,332,953,345,962,358,971,371,985,383,996,389"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="754,600,909,627"/>
<area shape="poly" title=" " alt="" coords="1075,439,1052,473,1021,514,982,556,937,590,910,603,908,598,935,586,979,552,1017,511,1048,470,1070,436"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="764,803,898,845"/>
<area shape="poly" title=" " alt="" coords="1082,440,1063,499,1032,576,990,661,938,742,904,777,868,804,865,800,901,773,934,738,986,659,1027,574,1058,497,1077,438"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="751,651,912,677"/>
<area shape="poly" title=" " alt="" coords="1080,439,1060,484,1029,539,988,594,964,619,937,641,913,653,911,649,935,636,961,615,984,591,1025,536,1055,482,1075,437"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="793,144,870,171"/>
<area shape="poly" title=" " alt="" coords="991,395,982,387,963,362,956,336,955,310,957,284,960,258,959,233,952,209,934,185,920,174,904,167,869,160,870,155,906,162,923,169,938,181,956,206,964,232,965,258,963,284,960,310,961,335,968,359,986,384,994,391"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="793,195,870,221"/>
<area shape="poly" title=" " alt="" coords="990,394,982,387,967,368,959,349,957,309,955,271,948,253,934,235,920,225,904,218,869,211,870,206,905,213,923,220,938,231,953,250,961,270,963,309,965,347,972,366,986,383,994,390"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="770,245,893,272"/>
<area shape="poly" title=" " alt="" coords="991,393,982,387,970,375,963,362,957,335,952,310,945,298,934,286,915,274,893,267,895,262,917,269,938,282,950,295,957,308,963,334,968,360,975,372,986,383,994,389"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="770,347,893,373"/>
<area shape="poly" title=" " alt="" coords="1002,396,893,375,894,369,1003,391"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="770,397,893,424"/>
<area shape="poly" title=" " alt="" coords="990,413,893,413,893,408,990,408"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="770,448,893,475"/>
<area shape="poly" title=" " alt="" coords="1003,430,894,452,893,447,1002,425"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="770,499,893,525"/>
<area shape="poly" title=" " alt="" coords="1052,434,999,462,937,489,894,502,893,497,935,484,996,458,1050,430"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="770,549,893,576"/>
<area shape="poly" title=" " alt="" coords="1067,438,1011,490,976,517,937,540,894,555,892,550,935,535,973,512,1008,485,1063,434"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="770,43,893,69"/>
<area shape="poly" title=" " alt="" coords="991,395,982,387,967,368,957,348,948,310,950,271,957,233,965,195,967,157,958,120,949,102,934,83,915,69,893,61,894,56,918,65,938,79,953,99,963,118,972,157,970,196,963,234,955,272,953,309,962,347,971,365,986,384,994,391"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="770,93,893,120"/>
<area shape="poly" title=" " alt="" coords="991,395,982,387,960,355,952,323,952,290,957,258,962,227,963,195,955,164,934,134,915,120,892,112,894,107,918,116,938,130,960,162,968,195,968,227,963,259,958,291,957,322,965,353,986,384,995,391"/>
<area shape="rect" href="group__driver1.html#ga60c16d2b5323dc486ad6208a244ed7ae" title="Unified GPIO interrupt handler for PLUS, MINUS, and SET buttons." alt="" coords="570,701,648,728"/>
<area shape="poly" title=" " alt="" coords="755,320,728,337,692,380,664,429,644,483,629,537,615,635,613,701,607,701,610,635,624,536,639,481,659,427,688,377,725,333,753,316"/>
<area shape="rect" href="group__driver1.html#ga71b68eb02e1df1dada387c9fbb7bbb37" title="Initialize button GPIO interrupts and synchronize UI selection." alt="" coords="354,701,474,728"/>
<area shape="poly" title=" " alt="" coords="554,717,474,717,474,712,554,712"/>
<area shape="poly" title=" " alt="" coords="345,735,258,758,257,753,344,730"/>
<area shape="rect" href="group__webui3.html#ga52702a4dcaff4540a9ddd10e4d5f4525" title="Processes incoming HTTP requests." alt="" coords="539,869,679,896"/>
<area shape="poly" title=" " alt="" coords="741,632,728,641,708,663,699,685,692,710,681,741,619,870,615,868,676,739,687,709,694,683,704,660,725,637,738,628"/>
<area shape="rect" href="group__main02.html#gad25e95c5993e865b3f941472b7a328e0" title="Core 1 task for handling SNMP and HTTP server." alt="" coords="371,904,456,931"/>
<area shape="poly" title=" " alt="" coords="525,900,457,912,456,907,524,895"/>
<area shape="poly" title=" " alt="" coords="357,938,98,1023,97,1018,355,933"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="543,1199,675,1225"/>
<area shape="poly" title=" " alt="" coords="751,843,729,859,718,878,703,914,670,1015,617,1199,611,1198,664,1013,698,912,713,876,725,856,748,839"/>
<area shape="rect" href="group__uart.html#ga6c04950ec7c317f61e910caa14e9e893" title="Main loop for reading and processing UART commands." alt="" coords="150,1123,288,1149"/>
<area shape="poly" title=" " alt="" coords="527,1199,288,1152,289,1147,528,1194"/>
<area shape="poly" title=" " alt="" coords="181,1116,75,1051,78,1046,184,1112"/>
<area shape="poly" title=" " alt="" coords="1306,1105,1300,1042,1283,961,1268,920,1249,879,1224,843,1193,811,1148,781,1106,762,1067,754,1027,752,940,761,890,766,833,768,608,768,258,768,258,763,608,763,833,763,889,760,939,755,1027,747,1067,748,1108,757,1150,776,1196,807,1228,839,1253,877,1273,918,1288,960,1305,1041,1311,1104"/>
<area shape="poly" title=" " alt="" coords="1281,1112,1241,1083,1193,1060,1108,1036,1035,1023,969,1018,907,1019,777,1030,700,1035,610,1037,412,1037,102,1037,102,1032,412,1032,610,1032,700,1030,776,1024,907,1013,969,1012,1036,1018,1110,1031,1195,1055,1244,1078,1284,1107"/>
<area shape="poly" title=" " alt="" coords="1310,1162,1299,1268,1278,1410,1262,1481,1244,1546,1222,1598,1196,1633,1158,1658,1115,1674,1070,1683,1024,1686,938,1679,870,1665,871,1660,939,1674,1024,1680,1070,1678,1114,1669,1155,1653,1193,1629,1217,1595,1239,1544,1257,1480,1272,1409,1294,1267,1304,1162"/>
<area shape="poly" title=" " alt="" coords="1304,1105,1296,1050,1277,982,1262,946,1244,913,1221,882,1193,857,1159,837,1122,822,1083,812,1044,807,966,806,899,813,899,808,966,801,1044,802,1084,807,1124,817,1161,832,1196,853,1225,879,1248,910,1267,944,1282,980,1301,1049,1309,1104"/>
<area shape="poly" title=" " alt="" coords="1310,1163,1303,1220,1284,1291,1269,1328,1250,1363,1226,1394,1196,1420,1133,1456,1074,1477,1017,1484,961,1479,906,1463,849,1438,725,1366,686,1334,654,1294,630,1256,614,1227,619,1224,634,1254,658,1291,690,1330,728,1362,851,1433,908,1458,962,1474,1017,1479,1072,1471,1131,1451,1193,1415,1222,1390,1246,1360,1265,1326,1279,1289,1297,1219,1305,1162"/>
<area shape="poly" title=" " alt="" coords="1303,1105,1291,1010,1268,885,1253,822,1235,766,1215,720,1193,691,1158,669,1120,653,1079,643,1037,639,956,642,887,653,887,647,955,636,1037,634,1080,638,1121,648,1161,664,1196,687,1220,718,1240,764,1258,820,1273,883,1296,1009,1309,1105"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="1030,701,1149,728"/>
<area shape="poly" title=" " alt="" coords="1307,1104,1302,1033,1286,937,1272,886,1252,836,1226,790,1193,749,1172,734,1148,725,1150,720,1175,729,1196,745,1230,787,1257,834,1277,885,1292,936,1308,1032,1312,1104"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="984,1272,1194,1299"/>
<area shape="poly" title=" " alt="" coords="1294,1162,1254,1213,1226,1240,1196,1262,1171,1274,1168,1269,1193,1258,1223,1236,1250,1210,1290,1158"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="727,971,936,997"/>
<area shape="poly" title=" " alt="" coords="1290,1108,1250,1059,1224,1035,1193,1016,1130,993,1063,980,997,976,936,976,936,971,997,970,1064,975,1131,988,1195,1011,1227,1030,1254,1055,1295,1105"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="1022,1525,1156,1568"/>
<area shape="poly" title=" " alt="" coords="1311,1163,1305,1232,1288,1323,1273,1373,1254,1421,1228,1467,1196,1509,1178,1523,1158,1534,1156,1529,1176,1519,1192,1505,1224,1464,1249,1419,1268,1371,1283,1322,1300,1231,1306,1162"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="1012,1592,1166,1619"/>
<area shape="poly" title=" " alt="" coords="1308,1162,1295,1257,1271,1383,1256,1446,1238,1503,1218,1550,1196,1582,1168,1599,1165,1595,1192,1578,1214,1547,1233,1501,1251,1444,1266,1381,1289,1256,1303,1162"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="1026,1069,1152,1096"/>
<area shape="poly" title=" " alt="" coords="1261,1125,1150,1099,1151,1094,1262,1120"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="554,920,664,947"/>
<area shape="poly" title=" " alt="" coords="1296,1107,1280,1075,1258,1039,1229,1004,1193,977,1150,961,1091,949,1020,941,943,936,788,932,664,934,664,929,788,927,943,930,1021,935,1092,944,1152,956,1196,972,1232,1000,1262,1036,1285,1072,1300,1104"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="1007,1221,1171,1248"/>
<area shape="poly" title=" " alt="" coords="1279,1158,1240,1182,1195,1205,1145,1223,1143,1218,1193,1200,1237,1177,1276,1153"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="798,1224,865,1251"/>
<area shape="poly" title=" " alt="" coords="1303,1162,1289,1199,1266,1241,1236,1282,1217,1299,1196,1313,1140,1337,1115,1342,1091,1343,1041,1335,983,1313,967,1302,957,1289,949,1277,935,1265,900,1251,865,1243,866,1238,901,1246,937,1260,953,1273,962,1286,970,1298,985,1308,1042,1329,1091,1338,1114,1337,1138,1332,1193,1308,1213,1295,1232,1278,1262,1238,1284,1197,1298,1160"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="784,1275,879,1301"/>
<area shape="poly" title=" " alt="" coords="1306,1163,1294,1206,1273,1258,1241,1309,1220,1331,1196,1349,1167,1364,1141,1373,1116,1378,1092,1378,1043,1368,983,1349,968,1342,958,1333,948,1324,935,1316,879,1298,880,1293,937,1311,952,1320,961,1329,971,1337,985,1344,1044,1363,1093,1372,1116,1372,1139,1368,1165,1359,1193,1344,1216,1327,1236,1306,1268,1256,1289,1205,1301,1161"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="803,1123,860,1149"/>
<area shape="poly" title=" " alt="" coords="1262,1136,860,1139,860,1133,1262,1131"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="785,1173,878,1200"/>
<area shape="poly" title=" " alt="" coords="1262,1141,878,1184,878,1179,1261,1136"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="789,1325,874,1352"/>
<area shape="poly" title=" " alt="" coords="1308,1162,1298,1213,1278,1274,1264,1306,1245,1335,1223,1362,1196,1384,1152,1404,1106,1413,1058,1413,1010,1407,964,1396,922,1382,858,1355,860,1350,924,1377,966,1391,1011,1402,1058,1408,1105,1408,1151,1399,1193,1379,1219,1358,1241,1332,1259,1303,1273,1272,1293,1211,1303,1161"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="1016,867,1163,893"/>
<area shape="poly" title=" " alt="" coords="1300,1106,1286,1063,1264,1012,1233,959,1214,935,1193,914,1161,896,1164,892,1196,910,1218,931,1238,956,1269,1009,1291,1061,1305,1104"/>
<area shape="rect" href="group__driver1.html#gace7ec6486dde17b22e09394684f5684d" title="Alarm callback to fire the SET long&#45;press action at LONGPRESS_DT." alt="" coords="763,701,900,728"/>
<area shape="poly" title=" " alt="" coords="1014,717,900,717,900,712,1014,712"/>
<area shape="poly" title=" " alt="" coords="747,717,649,717,649,712,747,712"/>
<area shape="poly" title=" " alt="" coords="800,1009,764,1036,729,1069,666,1141,622,1200,618,1197,661,1137,725,1065,761,1032,796,1005"/>
<area shape="rect" href="group__main03.html#ga3f17389aaa2bcc06ed37b92d3859a94f" title="Checks if this is the first boot and writes factory defaults to EEPROM if so." alt="" coords="336,955,491,997"/>
<area shape="poly" title=" " alt="" coords="711,984,492,980,492,975,711,979"/>
<area shape="poly" title=" " alt="" coords="338,948,334,945,295,903,263,857,224,780,228,778,267,854,299,900,338,941,342,944"/>
<area shape="poly" title=" " alt="" coords="1007,1563,940,1567,866,1563,828,1556,792,1545,757,1530,725,1509,709,1494,699,1478,690,1447,686,1413,676,1373,614,1227,619,1225,681,1371,692,1412,695,1446,704,1476,713,1490,728,1505,759,1525,793,1540,830,1551,867,1558,940,1562,1006,1558"/>
<area shape="poly" title=" " alt="" coords="997,1611,920,1610,841,1604,772,1592,745,1583,725,1571,704,1549,692,1527,686,1504,685,1481,686,1431,683,1403,676,1373,644,1289,615,1227,620,1225,648,1287,681,1371,689,1402,691,1431,690,1481,692,1503,697,1525,708,1546,728,1567,747,1578,773,1587,842,1599,921,1604,997,1605"/>
<area shape="poly" title=" " alt="" coords="1011,1078,948,1076,876,1079,800,1091,728,1113,695,1131,665,1155,623,1200,619,1196,662,1151,692,1127,726,1108,799,1086,875,1074,948,1071,1011,1072"/>
<area shape="poly" title=" " alt="" coords="538,930,456,923,457,918,538,925"/>
<area shape="poly" title=" " alt="" coords="995,1255,986,1262,960,1316,917,1430,840,1639,835,1637,912,1428,956,1314,982,1258,992,1251"/>
<area shape="rect" href="group__webui4.html#ga0fe4c530cf7754724a14147a82c71108" title="Handles the HTTP POST request for the settings page." alt="" coords="759,869,904,896"/>
<area shape="poly" title=" " alt="" coords="1061,1212,1021,1166,982,1109,966,1067,960,1032,953,998,934,960,917,941,898,924,859,899,862,894,901,920,921,937,938,957,959,996,965,1031,971,1066,986,1107,1025,1163,1065,1208"/>
<area shape="poly" title=" " alt="" coords="992,1238,865,1240,865,1234,992,1233"/>
<area shape="poly" title=" " alt="" coords="1007,1254,880,1281,879,1276,1006,1249"/>
<area shape="poly" title=" " alt="" coords="1049,1216,996,1189,935,1164,859,1144,861,1138,937,1159,998,1184,1051,1211"/>
<area shape="poly" title=" " alt="" coords="998,1221,878,1198,879,1193,999,1215"/>
<area shape="poly" title=" " alt="" coords="996,1257,985,1262,971,1275,962,1288,953,1302,937,1316,907,1329,875,1337,874,1332,905,1324,935,1311,949,1299,958,1285,967,1271,983,1258,994,1252"/>
<area shape="poly" title=" " alt="" coords="743,885,679,885,679,880,743,880"/>
<area shape="poly" title=" " alt="" coords="782,1234,675,1222,676,1217,782,1229"/>
<area shape="poly" title=" " alt="" coords="768,1277,726,1265,637,1228,640,1223,728,1260,769,1272"/>
<area shape="poly" title=" " alt="" coords="789,1147,728,1164,640,1201,637,1196,726,1159,787,1142"/>
<area shape="poly" title=" " alt="" coords="770,1196,676,1207,675,1202,770,1191"/>
<area shape="poly" title=" " alt="" coords="773,1332,726,1316,693,1295,663,1271,620,1228,624,1224,667,1267,696,1291,728,1311,774,1327"/>
<area shape="poly" title=" " alt="" coords="1000,884,904,885,904,879,1000,878"/>
</map>
</div>

</div>
</div>
<a id="ga125dff7e60af78727ec7d4377c472499" name="ga125dff7e60af78727ec7d4377c472499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga125dff7e60af78727ec7d4377c472499">&#9670;&#160;</a></span>mcp_display_write_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_display_write_reg </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a value to a specified MCP23017 register (guarded). </p>
<p>Write a value to a specific MCP23017 register (mutex-guarded).</p>
<p>If OLATA/OLATB is written, the shadow is kept in sync. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga125dff7e60af78727ec7d4377c472499_cgraph.png" border="0" usemap="#agroup__driver5_ga125dff7e60af78727ec7d4377c472499_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga125dff7e60af78727ec7d4377c472499_cgraph" id="agroup__driver5_ga125dff7e60af78727ec7d4377c472499_cgraph">
<area shape="rect" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="5,134,160,161"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="585,8,645,34"/>
<area shape="poly" title=" " alt="" coords="104,131,151,104,216,69,292,36,373,12,426,4,479,3,571,11,570,16,479,8,426,10,375,17,294,41,218,74,153,108,107,136"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="208,109,326,136"/>
<area shape="poly" title=" " alt="" coords="159,134,192,130,193,135,160,140"/>
<area shape="rect" href="group__driver5.html#gaba4e8ca33cf356bc41af763ae4aa3310" title=" " alt="" coords="417,160,494,186"/>
<area shape="poly" title=" " alt="" coords="160,150,402,167,401,172,160,155"/>
<area shape="rect" href="group__driver5.html#ga713d78b9106bd7706abb1ed29d8fad27" title=" " alt="" coords="410,210,501,237"/>
<area shape="poly" title=" " alt="" coords="152,159,395,209,394,214,151,164"/>
<area shape="poly" title=" " alt="" coords="280,107,319,74,345,57,373,44,425,29,478,20,570,16,570,22,478,26,426,34,375,49,348,62,323,78,284,111"/>
<area shape="rect" href="group__driver5.html#ga4cde98019aa1b07cd4c5f6bd7929bd8c" title=" " alt="" coords="428,109,484,136"/>
<area shape="poly" title=" " alt="" coords="327,120,412,120,412,125,327,125"/>
<area shape="poly" title=" " alt="" coords="320,134,403,156,401,161,319,139"/>
<area shape="poly" title=" " alt="" coords="286,134,325,165,375,196,397,205,394,210,373,201,322,169,282,138"/>
<area shape="rect" href="group__driver5.html#ga51d31ad5757c79b0f72f1e785115efed" title=" " alt="" coords="374,58,537,85"/>
<area shape="poly" title=" " alt="" coords="319,106,388,87,389,92,320,111"/>
<area shape="poly" title=" " alt="" coords="499,55,570,32,571,37,501,60"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga125dff7e60af78727ec7d4377c472499_icgraph.png" border="0" usemap="#agroup__driver5_ga125dff7e60af78727ec7d4377c472499_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga125dff7e60af78727ec7d4377c472499_icgraph" id="agroup__driver5_ga125dff7e60af78727ec7d4377c472499_icgraph">
<area shape="rect" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="335,31,489,57"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="180,5,257,32"/>
<area shape="poly" title=" " alt="" coords="319,35,257,26,258,21,320,29"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="150,56,287,83"/>
<area shape="poly" title=" " alt="" coords="320,59,288,63,287,58,319,53"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="5,5,102,32"/>
<area shape="poly" title=" " alt="" coords="164,21,102,21,102,16,164,16"/>
</map>
</div>

</div>
</div>
<a id="gaba4e8ca33cf356bc41af763ae4aa3310" name="gaba4e8ca33cf356bc41af763ae4aa3310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba4e8ca33cf356bc41af763ae4aa3310">&#9670;&#160;</a></span>mcp_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_lock </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_gaba4e8ca33cf356bc41af763ae4aa3310_icgraph.png" border="0" usemap="#agroup__driver5_gaba4e8ca33cf356bc41af763ae4aa3310_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_gaba4e8ca33cf356bc41af763ae4aa3310_icgraph" id="agroup__driver5_gaba4e8ca33cf356bc41af763ae4aa3310_icgraph">
<area shape="rect" title=" " alt="" coords="1269,681,1347,708"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,656,1221,683"/>
<area shape="poly" title=" " alt="" coords="1253,688,1221,682,1222,677,1254,683"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,723,817,749"/>
<area shape="poly" title=" " alt="" coords="1254,701,817,733,817,728,1253,696"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,605,1043,632"/>
<area shape="poly" title=" " alt="" coords="1275,675,1249,659,1220,647,1176,635,1130,627,1043,620,1044,615,1130,622,1177,630,1222,642,1251,654,1278,670"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,757,1038,800"/>
<area shape="poly" title=" " alt="" coords="1272,719,1222,741,1127,764,1039,776,1038,771,1126,759,1220,736,1270,714"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,824,1055,851"/>
<area shape="poly" title=" " alt="" coords="1286,722,1258,749,1223,773,1182,792,1139,807,1056,827,1055,822,1137,802,1180,787,1220,768,1254,745,1283,718"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,875,1052,901"/>
<area shape="poly" title=" " alt="" coords="1297,724,1268,773,1247,799,1223,821,1182,844,1138,862,1094,874,1052,883,1051,877,1093,869,1137,857,1180,840,1220,817,1244,795,1264,770,1292,721"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,555,1044,581"/>
<area shape="poly" title=" " alt="" coords="1285,671,1256,642,1220,617,1177,599,1131,587,1044,574,1045,568,1132,581,1179,594,1223,612,1259,638,1289,667"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,23,1044,49"/>
<area shape="poly" title=" " alt="" coords="1301,666,1282,557,1264,481,1240,397,1207,310,1166,223,1115,142,1085,104,1053,70,1025,52,1028,48,1057,66,1090,101,1119,139,1171,221,1212,308,1245,396,1270,480,1287,555,1306,665"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,23,537,49"/>
<area shape="poly" title=" " alt="" coords="1150,642,1115,542,1087,475,1051,400,1008,324,957,249,897,180,830,121,808,108,776,96,695,74,537,44,538,39,696,69,778,91,810,104,833,117,901,176,961,246,1012,321,1056,398,1092,472,1120,540,1155,641"/>
<area shape="poly" title=" " alt="" coords="1088,678,989,688,880,704,792,725,791,719,879,699,988,683,1087,672"/>
<area shape="poly" title=" " alt="" coords="1092,654,1021,635,1022,630,1094,649"/>
<area shape="poly" title=" " alt="" coords="1125,693,1008,759,1006,755,1122,688"/>
<area shape="poly" title=" " alt="" coords="1150,698,1113,757,1087,788,1057,814,1035,826,1032,821,1053,810,1083,784,1109,754,1145,695"/>
<area shape="poly" title=" " alt="" coords="1155,699,1142,736,1122,781,1093,826,1057,865,1037,876,1035,872,1053,861,1089,823,1117,778,1137,734,1150,697"/>
<area shape="poly" title=" " alt="" coords="1132,648,1096,621,1054,596,1025,585,1027,580,1056,591,1099,616,1135,644"/>
<area shape="poly" title=" " alt="" coords="1154,641,1104,319,1074,151,1061,95,1053,70,1029,52,1032,48,1057,66,1067,94,1079,150,1109,319,1159,640"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,124,119,151"/>
<area shape="poly" title=" " alt="" coords="445,51,120,129,119,123,444,46"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,1305,592,1332"/>
<area shape="poly" title=" " alt="" coords="656,760,653,763,642,783,633,807,625,871,626,946,631,1028,635,1110,636,1185,627,1249,618,1275,605,1295,592,1307,588,1303,601,1292,613,1272,622,1248,630,1185,630,1110,625,1028,621,946,620,870,628,806,637,780,649,760,652,756"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,1255,553,1281"/>
<area shape="poly" title=" " alt="" coords="656,760,653,763,632,794,618,824,610,854,608,883,615,943,631,1002,647,1062,654,1122,651,1153,643,1183,628,1214,605,1245,582,1261,554,1270,553,1265,579,1257,601,1241,623,1211,638,1181,646,1152,648,1122,642,1063,626,1004,610,944,603,883,605,853,613,822,627,791,649,760,652,756"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,1204,581,1231"/>
<area shape="poly" title=" " alt="" coords="656,761,653,763,627,802,614,840,612,876,616,913,621,952,624,993,620,1037,606,1085,586,1122,562,1156,516,1205,513,1202,558,1152,581,1119,601,1083,615,1036,619,993,616,952,610,914,607,876,609,839,622,800,649,760,652,757"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,1508,327,1535"/>
<area shape="poly" title=" " alt="" coords="483,1347,429,1422,390,1463,346,1498,324,1510,321,1505,344,1494,387,1459,425,1418,479,1344"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,1559,342,1585"/>
<area shape="poly" title=" " alt="" coords="488,1347,468,1391,437,1445,397,1501,373,1526,347,1549,326,1561,323,1556,343,1545,369,1523,392,1497,433,1442,463,1389,484,1345"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,985,332,1028"/>
<area shape="poly" title=" " alt="" coords="394,1298,391,1295,369,1263,360,1232,359,1200,364,1169,368,1137,369,1106,362,1074,343,1042,331,1030,334,1027,347,1038,367,1072,374,1105,374,1138,369,1169,365,1200,365,1231,374,1261,395,1292,397,1294"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,1052,345,1079"/>
<area shape="poly" title=" " alt="" coords="394,1298,391,1295,372,1270,364,1244,363,1218,365,1193,368,1167,367,1142,360,1117,343,1093,328,1081,332,1077,347,1089,365,1115,372,1141,373,1167,371,1193,368,1218,369,1243,377,1267,395,1292,398,1294"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,1609,303,1636"/>
<area shape="poly" title=" " alt="" coords="492,1348,474,1401,444,1469,402,1539,376,1571,347,1599,326,1612,304,1619,303,1614,324,1607,343,1595,372,1567,398,1536,439,1466,469,1399,487,1346"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,1660,303,1687"/>
<area shape="poly" title=" " alt="" coords="494,1348,479,1410,451,1491,432,1534,408,1576,380,1616,347,1650,326,1663,304,1671,303,1665,324,1658,343,1646,376,1612,404,1573,427,1532,446,1489,474,1409,489,1347"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,1103,326,1129"/>
<area shape="poly" title=" " alt="" coords="395,1299,391,1295,376,1276,368,1257,366,1218,364,1180,357,1162,343,1143,325,1131,328,1127,347,1139,362,1159,369,1179,371,1218,373,1256,380,1274,395,1292,399,1295"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,1153,326,1180"/>
<area shape="poly" title=" " alt="" coords="397,1300,391,1295,379,1283,372,1270,366,1244,360,1218,354,1206,343,1194,326,1183,328,1178,347,1190,358,1203,365,1216,371,1243,377,1268,384,1280,395,1291,400,1295"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,1204,326,1231"/>
<area shape="poly" title=" " alt="" coords="403,1301,392,1296,376,1283,367,1270,358,1257,344,1245,320,1234,323,1229,346,1240,362,1254,371,1267,380,1279,394,1291,405,1297"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,1255,326,1281"/>
<area shape="poly" title=" " alt="" coords="418,1304,326,1284,327,1279,419,1299"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,1305,326,1332"/>
<area shape="poly" title=" " alt="" coords="388,1321,327,1321,327,1316,388,1316"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,1356,326,1383"/>
<area shape="poly" title=" " alt="" coords="419,1339,327,1359,326,1353,418,1333"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,1407,326,1433"/>
<area shape="poly" title=" " alt="" coords="460,1342,407,1370,346,1397,315,1409,313,1404,344,1392,404,1365,458,1337"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,1457,326,1484"/>
<area shape="poly" title=" " alt="" coords="475,1345,419,1397,384,1424,346,1448,320,1459,318,1454,344,1443,381,1420,416,1393,471,1342"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,732,137,759"/>
<area shape="poly" title=" " alt="" coords="195,979,183,969,160,943,140,914,108,854,86,799,73,760,79,758,91,798,113,852,145,911,164,940,187,965,198,975"/>
<area shape="poly" title=" " alt="" coords="404,1237,395,1244,374,1275,366,1306,366,1337,371,1368,375,1400,376,1432,368,1465,347,1498,329,1511,326,1507,343,1494,363,1463,371,1432,370,1400,365,1369,360,1337,360,1305,369,1273,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,380,1263,370,1281,362,1318,363,1355,370,1393,378,1431,380,1470,371,1509,361,1529,347,1549,333,1560,329,1556,343,1545,357,1526,366,1507,374,1469,372,1432,365,1394,358,1356,356,1318,365,1279,376,1260,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="478,1193,423,1119,386,1078,343,1042,325,1031,328,1026,347,1038,389,1075,427,1116,482,1190"/>
<area shape="poly" title=" " alt="" coords="471,1195,416,1144,381,1117,344,1093,318,1082,320,1077,346,1088,384,1112,419,1139,475,1191"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,378,1266,367,1288,360,1309,358,1331,361,1374,370,1418,380,1462,383,1507,375,1553,363,1576,347,1599,327,1614,304,1622,303,1617,325,1609,343,1596,359,1573,369,1551,378,1507,374,1463,365,1419,355,1375,352,1331,355,1308,362,1286,374,1263,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="404,1237,395,1245,376,1270,364,1294,356,1319,354,1344,358,1393,370,1443,382,1494,387,1545,385,1571,378,1597,366,1623,347,1650,327,1665,304,1673,303,1668,325,1660,343,1646,361,1621,373,1595,379,1570,382,1545,377,1495,365,1444,353,1394,348,1344,351,1318,359,1292,372,1267,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="458,1199,404,1171,344,1144,313,1133,315,1128,346,1139,407,1166,460,1194"/>
<area shape="poly" title=" " alt="" coords="418,1203,326,1183,327,1177,419,1198"/>
<area shape="poly" title=" " alt="" coords="400,1220,327,1220,327,1215,400,1215"/>
<area shape="poly" title=" " alt="" coords="419,1237,327,1257,326,1252,418,1232"/>
<area shape="poly" title=" " alt="" coords="405,1239,394,1245,380,1257,371,1269,362,1282,346,1296,323,1307,320,1302,344,1291,358,1279,367,1266,376,1253,392,1240,403,1235"/>
<area shape="poly" title=" " alt="" coords="403,1239,395,1245,384,1256,377,1268,371,1293,365,1320,358,1333,347,1346,328,1358,326,1353,343,1342,354,1330,360,1318,366,1292,372,1266,379,1253,391,1241,400,1235"/>
<area shape="poly" title=" " alt="" coords="403,1238,395,1245,380,1262,373,1280,371,1318,369,1357,362,1377,347,1397,328,1410,325,1405,343,1393,357,1374,364,1356,366,1318,368,1279,376,1260,391,1241,399,1234"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,377,1269,369,1293,368,1318,371,1343,373,1369,372,1395,365,1421,347,1447,328,1461,325,1456,343,1444,360,1419,367,1394,368,1369,365,1343,363,1318,364,1292,372,1266,391,1241,400,1233"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,773,832,800"/>
<area shape="poly" title=" " alt="" coords="882,784,832,786,832,781,881,779"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,824,821,851"/>
<area shape="poly" title=" " alt="" coords="864,840,821,840,821,835,864,835"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,875,817,901"/>
<area shape="poly" title=" " alt="" coords="868,891,818,891,818,885,868,885"/>
<area shape="poly" title=" " alt="" coords="962,539,954,466,933,368,916,315,894,263,865,214,830,171,808,153,788,142,747,133,702,127,677,120,650,108,626,89,602,70,569,57,537,47,538,42,571,52,605,66,629,84,653,103,679,115,703,121,748,127,790,137,811,149,834,168,869,211,898,261,921,313,938,366,959,465,967,539"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,124,304,151"/>
<area shape="poly" title=" " alt="" coords="944,544,755,302,655,180,602,122,578,116,545,112,463,114,376,123,304,134,304,128,375,118,463,109,545,107,579,110,605,118,659,176,759,299,948,541"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,672,810,699"/>
<area shape="poly" title=" " alt="" coords="896,589,881,596,813,636,761,674,758,670,810,631,878,591,894,584"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,555,775,581"/>
<area shape="poly" title=" " alt="" coords="875,571,775,571,775,565,875,565"/>
<area shape="poly" title=" " alt="" coords="211,140,120,140,120,135,211,135"/>
<area shape="poly" title=" " alt="" coords="662,705,653,712,642,732,633,757,625,820,626,895,631,977,635,1059,636,1135,627,1198,618,1224,605,1245,582,1262,554,1270,553,1265,580,1257,601,1241,613,1222,622,1197,630,1134,630,1059,625,977,621,896,620,820,628,756,637,730,649,709,658,701"/>
<area shape="poly" title=" " alt="" coords="662,705,653,712,623,758,609,801,608,844,613,887,621,931,625,978,622,1029,606,1085,586,1122,562,1156,517,1205,513,1202,558,1152,582,1119,601,1083,617,1028,620,978,615,932,608,887,603,844,604,800,618,756,649,709,658,701"/>
<area shape="poly" title=" " alt="" coords="735,540,723,462,700,353,682,294,660,233,633,175,601,120,584,99,563,80,523,52,526,48,567,76,588,95,606,117,638,172,665,231,688,292,705,352,729,461,740,539"/>
<area shape="poly" title=" " alt="" coords="710,547,661,509,602,469,544,438,497,418,450,398,392,368,299,309,212,248,88,153,91,149,215,243,302,305,394,363,452,394,499,413,547,433,605,464,664,504,714,543"/>
<area shape="poly" title=" " alt="" coords="711,593,680,623,654,661,638,709,634,753,639,796,647,837,652,876,650,915,636,953,605,991,575,1013,542,1028,506,1037,469,1041,396,1039,332,1028,333,1023,397,1034,469,1036,505,1032,540,1023,573,1008,602,987,632,951,645,914,647,877,641,838,634,797,629,754,632,708,649,659,676,620,707,589"/>
<area shape="poly" title=" " alt="" coords="720,595,671,642,639,666,604,685,544,708,480,726,415,738,351,747,232,754,137,752,137,747,232,748,350,741,414,733,479,721,542,703,602,680,636,661,667,638,717,591"/>
<area shape="poly" title=" " alt="" coords="711,593,680,623,654,661,644,697,640,745,640,859,639,917,635,971,624,1015,616,1032,605,1046,573,1070,536,1086,497,1095,457,1098,379,1094,314,1082,315,1077,380,1089,457,1093,496,1089,535,1080,570,1065,601,1042,612,1029,619,1013,629,970,634,917,634,859,634,744,639,696,649,659,676,620,707,589"/>
<area shape="poly" title=" " alt="" coords="738,539,733,461,726,412,714,358,697,304,673,252,642,204,602,165,567,143,528,129,487,120,446,117,367,120,304,131,303,125,366,115,446,112,488,115,530,124,569,139,605,161,646,201,678,249,702,302,719,357,731,411,738,461,743,539"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,175,558,201"/>
<area shape="poly" title=" " alt="" coords="735,539,725,472,703,385,686,338,663,293,635,252,602,215,581,202,557,195,559,190,583,198,605,211,640,248,668,291,690,336,708,383,731,471,740,539"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,225,603,252"/>
<area shape="poly" title=" " alt="" coords="733,540,720,482,696,408,679,369,657,331,632,296,602,266,583,255,586,250,605,262,636,293,662,328,684,366,701,406,726,481,738,539"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,783,603,809"/>
<area shape="poly" title=" " alt="" coords="715,594,683,625,654,661,640,690,633,716,625,741,605,766,574,785,571,780,602,762,621,738,628,715,635,688,649,659,680,621,711,590"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,833,565,876"/>
<area shape="poly" title=" " alt="" coords="713,593,682,624,654,661,643,684,638,705,635,745,630,783,621,803,605,823,587,837,567,846,565,841,585,832,601,819,617,800,625,782,630,745,633,705,638,682,649,659,678,620,709,589"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,900,575,927"/>
<area shape="poly" title=" " alt="" coords="712,593,681,624,654,661,641,694,636,724,639,780,640,807,637,835,626,862,605,890,577,908,574,903,602,886,622,859,632,833,635,807,633,781,631,724,636,692,649,659,677,620,708,589"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,951,561,977"/>
<area shape="poly" title=" " alt="" coords="711,593,680,624,654,661,639,701,635,738,641,807,644,840,642,873,630,906,605,941,585,955,562,963,560,958,583,951,601,937,625,904,636,872,639,840,636,807,629,738,634,700,649,659,676,620,708,590"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,276,553,303"/>
<area shape="poly" title=" " alt="" coords="731,541,715,492,689,431,652,369,628,341,602,317,579,304,553,297,555,291,581,299,605,313,632,337,656,366,694,428,720,490,736,539"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,529,580,556"/>
<area shape="poly" title=" " alt="" coords="692,566,580,554,581,549,692,560"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,631,298,657"/>
<area shape="poly" title=" " alt="" coords="693,579,604,595,299,642,298,637,603,589,692,574"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,681,312,708"/>
<area shape="poly" title=" " alt="" coords="702,591,656,613,604,633,525,655,445,672,313,692,312,687,444,666,524,650,603,628,654,608,700,587"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,479,293,505"/>
<area shape="poly" title=" " alt="" coords="708,548,660,519,603,496,516,482,428,479,351,484,294,490,293,485,350,478,428,474,516,477,604,491,663,514,711,543"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,529,311,556"/>
<area shape="poly" title=" " alt="" coords="697,550,652,533,603,520,545,512,499,510,393,520,312,534,311,529,393,515,498,505,545,506,604,515,654,528,699,545"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="222,580,308,607"/>
<area shape="poly" title=" " alt="" coords="692,573,308,594,308,588,692,568"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,327,572,353"/>
<area shape="poly" title=" " alt="" coords="726,542,707,504,679,459,644,413,602,374,566,356,569,351,605,370,648,410,684,456,711,501,731,539"/>
<area shape="poly" title=" " alt="" coords="378,788,184,767,137,759,137,754,185,761,378,783"/>
<area shape="poly" title=" " alt="" coords="415,843,305,820,184,789,105,762,107,757,185,784,306,815,416,838"/>
<area shape="poly" title=" " alt="" coords="406,901,297,875,239,856,183,832,128,796,85,761,89,757,131,792,186,827,241,851,299,870,407,896"/>
<area shape="poly" title=" " alt="" coords="420,963,365,955,303,942,241,921,183,892,146,861,115,824,77,760,81,758,120,821,150,857,186,887,243,916,305,937,366,950,421,957"/>
<area shape="poly" title=" " alt="" coords="479,517,391,367,271,153,276,150,395,364,483,515"/>
<area shape="poly" title=" " alt="" coords="460,566,407,594,346,621,300,637,298,632,344,616,404,589,458,561"/>
<area shape="poly" title=" " alt="" coords="475,569,419,621,384,648,346,672,314,685,312,681,344,667,381,644,416,617,471,566"/>
<area shape="poly" title=" " alt="" coords="418,528,293,501,294,495,419,523"/>
<area shape="poly" title=" " alt="" coords="401,545,311,545,311,540,401,540"/>
<area shape="poly" title=" " alt="" coords="419,563,309,587,308,582,418,557"/>
<area shape="poly" title=" " alt="" coords="217,659,186,672,133,703,91,734,88,729,130,699,183,667,215,654"/>
<area shape="poly" title=" " alt="" coords="203,714,126,734,124,729,202,708"/>
<area shape="poly" title=" " alt="" coords="222,501,203,509,186,519,162,544,141,572,109,634,89,691,78,732,73,731,84,689,104,632,137,569,158,541,183,515,201,504,220,496"/>
<area shape="poly" title=" " alt="" coords="205,559,186,570,147,610,116,656,94,699,80,733,75,731,89,697,111,653,143,606,183,566,203,554"/>
<area shape="poly" title=" " alt="" coords="208,610,186,621,153,648,123,679,83,733,79,730,119,675,149,644,183,616,206,605"/>
<area shape="poly" title=" " alt="" coords="890,22,831,13,742,8,652,13,538,31,537,25,651,8,742,3,832,8,891,17"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,23,810,49"/>
<area shape="poly" title=" " alt="" coords="875,39,811,39,811,33,875,33"/>
</map>
</div>

</div>
</div>
<a id="ga713d78b9106bd7706abb1ed29d8fad27" name="ga713d78b9106bd7706abb1ed29d8fad27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga713d78b9106bd7706abb1ed29d8fad27">&#9670;&#160;</a></span>mcp_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mcp_unlock </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga713d78b9106bd7706abb1ed29d8fad27_icgraph.png" border="0" usemap="#agroup__driver5_ga713d78b9106bd7706abb1ed29d8fad27_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga713d78b9106bd7706abb1ed29d8fad27_icgraph" id="agroup__driver5_ga713d78b9106bd7706abb1ed29d8fad27_icgraph">
<area shape="rect" title=" " alt="" coords="1269,681,1361,708"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,656,1221,683"/>
<area shape="poly" title=" " alt="" coords="1254,687,1221,682,1222,677,1255,682"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,723,817,749"/>
<area shape="poly" title=" " alt="" coords="1254,702,817,733,817,728,1253,696"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,605,1043,632"/>
<area shape="poly" title=" " alt="" coords="1280,675,1252,659,1221,647,1176,635,1129,628,1043,621,1043,616,1130,622,1177,630,1222,642,1254,655,1283,670"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,757,1038,800"/>
<area shape="poly" title=" " alt="" coords="1277,718,1222,741,1127,764,1038,776,1038,771,1126,758,1221,736,1275,713"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,824,1055,851"/>
<area shape="poly" title=" " alt="" coords="1291,721,1260,747,1223,772,1181,790,1138,805,1056,826,1054,821,1137,800,1179,785,1220,767,1257,743,1288,717"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,875,1052,901"/>
<area shape="poly" title=" " alt="" coords="1302,724,1270,772,1248,797,1223,818,1182,841,1138,859,1052,881,1051,875,1136,854,1180,837,1220,814,1244,793,1266,769,1298,721"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,555,1044,581"/>
<area shape="poly" title=" " alt="" coords="1290,672,1259,643,1220,617,1177,600,1131,588,1044,574,1045,569,1132,582,1178,595,1223,612,1262,638,1294,668"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,23,1044,49"/>
<area shape="poly" title=" " alt="" coords="1307,666,1287,557,1269,481,1243,397,1210,310,1168,223,1116,142,1086,104,1053,70,1025,52,1028,48,1057,66,1090,101,1120,139,1172,221,1215,308,1248,395,1274,479,1293,555,1313,665"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,23,537,49"/>
<area shape="poly" title=" " alt="" coords="1150,642,1115,542,1087,475,1051,400,1008,324,957,249,897,180,830,121,808,108,776,96,695,74,537,44,538,39,696,69,778,91,810,104,833,117,901,176,961,246,1012,321,1056,398,1092,472,1120,540,1155,641"/>
<area shape="poly" title=" " alt="" coords="1088,678,989,688,880,704,792,725,791,719,879,699,988,683,1087,672"/>
<area shape="poly" title=" " alt="" coords="1092,654,1021,635,1022,630,1094,649"/>
<area shape="poly" title=" " alt="" coords="1125,693,1008,759,1006,755,1122,688"/>
<area shape="poly" title=" " alt="" coords="1150,698,1113,757,1087,788,1057,814,1035,826,1032,821,1053,810,1083,784,1109,754,1145,695"/>
<area shape="poly" title=" " alt="" coords="1155,699,1142,736,1122,781,1093,826,1057,865,1037,876,1035,872,1053,861,1089,823,1117,778,1137,734,1150,697"/>
<area shape="poly" title=" " alt="" coords="1132,648,1096,621,1054,596,1025,585,1027,580,1056,591,1099,616,1135,644"/>
<area shape="poly" title=" " alt="" coords="1154,641,1104,319,1074,151,1061,95,1053,70,1029,52,1032,48,1057,66,1067,94,1079,150,1109,319,1159,640"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,124,119,151"/>
<area shape="poly" title=" " alt="" coords="445,51,120,129,119,123,444,46"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,1305,592,1332"/>
<area shape="poly" title=" " alt="" coords="656,760,653,763,642,783,633,807,625,871,626,946,631,1028,635,1110,636,1185,627,1249,618,1275,605,1295,592,1307,588,1303,601,1292,613,1272,622,1248,630,1185,630,1110,625,1028,621,946,620,870,628,806,637,780,649,760,652,756"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,1255,553,1281"/>
<area shape="poly" title=" " alt="" coords="656,760,653,763,632,794,618,824,610,854,608,883,615,943,631,1002,647,1062,654,1122,651,1153,643,1183,628,1214,605,1245,582,1261,554,1270,553,1265,579,1257,601,1241,623,1211,638,1181,646,1152,648,1122,642,1063,626,1004,610,944,603,883,605,853,613,822,627,791,649,760,652,756"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,1204,581,1231"/>
<area shape="poly" title=" " alt="" coords="656,761,653,763,627,802,614,840,612,876,616,913,621,952,624,993,620,1037,606,1085,586,1122,562,1156,516,1205,513,1202,558,1152,581,1119,601,1083,615,1036,619,993,616,952,610,914,607,876,609,839,622,800,649,760,652,757"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,1508,327,1535"/>
<area shape="poly" title=" " alt="" coords="483,1347,429,1422,390,1463,346,1498,324,1510,321,1505,344,1494,387,1459,425,1418,479,1344"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,1559,342,1585"/>
<area shape="poly" title=" " alt="" coords="488,1347,468,1391,437,1445,397,1501,373,1526,347,1549,326,1561,323,1556,343,1545,369,1523,392,1497,433,1442,463,1389,484,1345"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,985,332,1028"/>
<area shape="poly" title=" " alt="" coords="394,1298,391,1295,369,1263,360,1232,359,1200,364,1169,368,1137,369,1106,362,1074,343,1042,331,1030,334,1027,347,1038,367,1072,374,1105,374,1138,369,1169,365,1200,365,1231,374,1261,395,1292,397,1294"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,1052,345,1079"/>
<area shape="poly" title=" " alt="" coords="394,1298,391,1295,372,1270,364,1244,363,1218,365,1193,368,1167,367,1142,360,1117,343,1093,328,1081,332,1077,347,1089,365,1115,372,1141,373,1167,371,1193,368,1218,369,1243,377,1267,395,1292,398,1294"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,1609,303,1636"/>
<area shape="poly" title=" " alt="" coords="492,1348,474,1401,444,1469,402,1539,376,1571,347,1599,326,1612,304,1619,303,1614,324,1607,343,1595,372,1567,398,1536,439,1466,469,1399,487,1346"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,1660,303,1687"/>
<area shape="poly" title=" " alt="" coords="494,1348,479,1410,451,1491,432,1534,408,1576,380,1616,347,1650,326,1663,304,1671,303,1665,324,1658,343,1646,376,1612,404,1573,427,1532,446,1489,474,1409,489,1347"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,1103,326,1129"/>
<area shape="poly" title=" " alt="" coords="395,1299,391,1295,376,1276,368,1257,366,1218,364,1180,357,1162,343,1143,325,1131,328,1127,347,1139,362,1159,369,1179,371,1218,373,1256,380,1274,395,1292,399,1295"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,1153,326,1180"/>
<area shape="poly" title=" " alt="" coords="397,1300,391,1295,379,1283,372,1270,366,1244,360,1218,354,1206,343,1194,326,1183,328,1178,347,1190,358,1203,365,1216,371,1243,377,1268,384,1280,395,1291,400,1295"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,1204,326,1231"/>
<area shape="poly" title=" " alt="" coords="403,1301,392,1296,376,1283,367,1270,358,1257,344,1245,320,1234,323,1229,346,1240,362,1254,371,1267,380,1279,394,1291,405,1297"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,1255,326,1281"/>
<area shape="poly" title=" " alt="" coords="418,1304,326,1284,327,1279,419,1299"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,1305,326,1332"/>
<area shape="poly" title=" " alt="" coords="388,1321,327,1321,327,1316,388,1316"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,1356,326,1383"/>
<area shape="poly" title=" " alt="" coords="419,1339,327,1359,326,1353,418,1333"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,1407,326,1433"/>
<area shape="poly" title=" " alt="" coords="460,1342,407,1370,346,1397,315,1409,313,1404,344,1392,404,1365,458,1337"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,1457,326,1484"/>
<area shape="poly" title=" " alt="" coords="475,1345,419,1397,384,1424,346,1448,320,1459,318,1454,344,1443,381,1420,416,1393,471,1342"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,732,137,759"/>
<area shape="poly" title=" " alt="" coords="195,979,183,969,160,943,140,914,108,854,86,799,73,760,79,758,91,798,113,852,145,911,164,940,187,965,198,975"/>
<area shape="poly" title=" " alt="" coords="404,1237,395,1244,374,1275,366,1306,366,1337,371,1368,375,1400,376,1432,368,1465,347,1498,329,1511,326,1507,343,1494,363,1463,371,1432,370,1400,365,1369,360,1337,360,1305,369,1273,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,380,1263,370,1281,362,1318,363,1355,370,1393,378,1431,380,1470,371,1509,361,1529,347,1549,333,1560,329,1556,343,1545,357,1526,366,1507,374,1469,372,1432,365,1394,358,1356,356,1318,365,1279,376,1260,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="478,1193,423,1119,386,1078,343,1042,325,1031,328,1026,347,1038,389,1075,427,1116,482,1190"/>
<area shape="poly" title=" " alt="" coords="471,1195,416,1144,381,1117,344,1093,318,1082,320,1077,346,1088,384,1112,419,1139,475,1191"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,378,1266,367,1288,360,1309,358,1331,361,1374,370,1418,380,1462,383,1507,375,1553,363,1576,347,1599,327,1614,304,1622,303,1617,325,1609,343,1596,359,1573,369,1551,378,1507,374,1463,365,1419,355,1375,352,1331,355,1308,362,1286,374,1263,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="404,1237,395,1245,376,1270,364,1294,356,1319,354,1344,358,1393,370,1443,382,1494,387,1545,385,1571,378,1597,366,1623,347,1650,327,1665,304,1673,303,1668,325,1660,343,1646,361,1621,373,1595,379,1570,382,1545,377,1495,365,1444,353,1394,348,1344,351,1318,359,1292,372,1267,391,1241,400,1233"/>
<area shape="poly" title=" " alt="" coords="458,1199,404,1171,344,1144,313,1133,315,1128,346,1139,407,1166,460,1194"/>
<area shape="poly" title=" " alt="" coords="418,1203,326,1183,327,1177,419,1198"/>
<area shape="poly" title=" " alt="" coords="400,1220,327,1220,327,1215,400,1215"/>
<area shape="poly" title=" " alt="" coords="419,1237,327,1257,326,1252,418,1232"/>
<area shape="poly" title=" " alt="" coords="405,1239,394,1245,380,1257,371,1269,362,1282,346,1296,323,1307,320,1302,344,1291,358,1279,367,1266,376,1253,392,1240,403,1235"/>
<area shape="poly" title=" " alt="" coords="403,1239,395,1245,384,1256,377,1268,371,1293,365,1320,358,1333,347,1346,328,1358,326,1353,343,1342,354,1330,360,1318,366,1292,372,1266,379,1253,391,1241,400,1235"/>
<area shape="poly" title=" " alt="" coords="403,1238,395,1245,380,1262,373,1280,371,1318,369,1357,362,1377,347,1397,328,1410,325,1405,343,1393,357,1374,364,1356,366,1318,368,1279,376,1260,391,1241,399,1234"/>
<area shape="poly" title=" " alt="" coords="403,1237,395,1245,377,1269,369,1293,368,1318,371,1343,373,1369,372,1395,365,1421,347,1447,328,1461,325,1456,343,1444,360,1419,367,1394,368,1369,365,1343,363,1318,364,1292,372,1266,391,1241,400,1233"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,773,832,800"/>
<area shape="poly" title=" " alt="" coords="882,784,832,786,832,781,881,779"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,824,821,851"/>
<area shape="poly" title=" " alt="" coords="864,840,821,840,821,835,864,835"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,875,817,901"/>
<area shape="poly" title=" " alt="" coords="868,891,818,891,818,885,868,885"/>
<area shape="poly" title=" " alt="" coords="962,539,954,466,933,368,916,315,894,263,865,214,830,171,808,153,788,142,747,133,702,127,677,120,650,108,626,89,602,70,569,57,537,47,538,42,571,52,605,66,629,84,653,103,679,115,703,121,748,127,790,137,811,149,834,168,869,211,898,261,921,313,938,366,959,465,967,539"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,124,304,151"/>
<area shape="poly" title=" " alt="" coords="944,544,755,302,655,180,602,122,578,116,545,112,463,114,376,123,304,134,304,128,375,118,463,109,545,107,579,110,605,118,659,176,759,299,948,541"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,672,810,699"/>
<area shape="poly" title=" " alt="" coords="896,589,881,596,813,636,761,674,758,670,810,631,878,591,894,584"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,555,775,581"/>
<area shape="poly" title=" " alt="" coords="875,571,775,571,775,565,875,565"/>
<area shape="poly" title=" " alt="" coords="211,140,120,140,120,135,211,135"/>
<area shape="poly" title=" " alt="" coords="662,705,653,712,642,732,633,757,625,820,626,895,631,977,635,1059,636,1135,627,1198,618,1224,605,1245,582,1262,554,1270,553,1265,580,1257,601,1241,613,1222,622,1197,630,1134,630,1059,625,977,621,896,620,820,628,756,637,730,649,709,658,701"/>
<area shape="poly" title=" " alt="" coords="662,705,653,712,623,758,609,801,608,844,613,887,621,931,625,978,622,1029,606,1085,586,1122,562,1156,517,1205,513,1202,558,1152,582,1119,601,1083,617,1028,620,978,615,932,608,887,603,844,604,800,618,756,649,709,658,701"/>
<area shape="poly" title=" " alt="" coords="735,540,723,462,700,353,682,294,660,233,633,175,601,120,584,99,563,80,523,52,526,48,567,76,588,95,606,117,638,172,665,231,688,292,705,352,729,461,740,539"/>
<area shape="poly" title=" " alt="" coords="710,547,661,509,602,469,544,438,497,418,450,398,392,368,299,309,212,248,88,153,91,149,215,243,302,305,394,363,452,394,499,413,547,433,605,464,664,504,714,543"/>
<area shape="poly" title=" " alt="" coords="711,593,680,623,654,661,638,709,634,753,639,796,647,837,652,876,650,915,636,953,605,991,575,1013,542,1028,506,1037,469,1041,396,1039,332,1028,333,1023,397,1034,469,1036,505,1032,540,1023,573,1008,602,987,632,951,645,914,647,877,641,838,634,797,629,754,632,708,649,659,676,620,707,589"/>
<area shape="poly" title=" " alt="" coords="720,595,671,642,639,666,604,685,544,708,480,726,415,738,351,747,232,754,137,752,137,747,232,748,350,741,414,733,479,721,542,703,602,680,636,661,667,638,717,591"/>
<area shape="poly" title=" " alt="" coords="711,593,680,623,654,661,644,697,640,745,640,859,639,917,635,971,624,1015,616,1032,605,1046,573,1070,536,1086,497,1095,457,1098,379,1094,314,1082,315,1077,380,1089,457,1093,496,1089,535,1080,570,1065,601,1042,612,1029,619,1013,629,970,634,917,634,859,634,744,639,696,649,659,676,620,707,589"/>
<area shape="poly" title=" " alt="" coords="738,539,733,461,726,412,714,358,697,304,673,252,642,204,602,165,567,143,528,129,487,120,446,117,367,120,304,131,303,125,366,115,446,112,488,115,530,124,569,139,605,161,646,201,678,249,702,302,719,357,731,411,738,461,743,539"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,175,558,201"/>
<area shape="poly" title=" " alt="" coords="735,539,725,472,703,385,686,338,663,293,635,252,602,215,581,202,557,195,559,190,583,198,605,211,640,248,668,291,690,336,708,383,731,471,740,539"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,225,603,252"/>
<area shape="poly" title=" " alt="" coords="733,540,720,482,696,408,679,369,657,331,632,296,602,266,583,255,586,250,605,262,636,293,662,328,684,366,701,406,726,481,738,539"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,783,603,809"/>
<area shape="poly" title=" " alt="" coords="715,594,683,625,654,661,640,690,633,716,625,741,605,766,574,785,571,780,602,762,621,738,628,715,635,688,649,659,680,621,711,590"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,833,565,876"/>
<area shape="poly" title=" " alt="" coords="713,593,682,624,654,661,643,684,638,705,635,745,630,783,621,803,605,823,587,837,567,846,565,841,585,832,601,819,617,800,625,782,630,745,633,705,638,682,649,659,678,620,709,589"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,900,575,927"/>
<area shape="poly" title=" " alt="" coords="712,593,681,624,654,661,641,694,636,724,639,780,640,807,637,835,626,862,605,890,577,908,574,903,602,886,622,859,632,833,635,807,633,781,631,724,636,692,649,659,677,620,708,589"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,951,561,977"/>
<area shape="poly" title=" " alt="" coords="711,593,680,624,654,661,639,701,635,738,641,807,644,840,642,873,630,906,605,941,585,955,562,963,560,958,583,951,601,937,625,904,636,872,639,840,636,807,629,738,634,700,649,659,676,620,708,590"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,276,553,303"/>
<area shape="poly" title=" " alt="" coords="731,541,715,492,689,431,652,369,628,341,602,317,579,304,553,297,555,291,581,299,605,313,632,337,656,366,694,428,720,490,736,539"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,529,580,556"/>
<area shape="poly" title=" " alt="" coords="692,566,580,554,581,549,692,560"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,631,298,657"/>
<area shape="poly" title=" " alt="" coords="693,579,604,595,299,642,298,637,603,589,692,574"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,681,312,708"/>
<area shape="poly" title=" " alt="" coords="702,591,656,613,604,633,525,655,445,672,313,692,312,687,444,666,524,650,603,628,654,608,700,587"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,479,293,505"/>
<area shape="poly" title=" " alt="" coords="708,548,660,519,603,496,516,482,428,479,351,484,294,490,293,485,350,478,428,474,516,477,604,491,663,514,711,543"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,529,311,556"/>
<area shape="poly" title=" " alt="" coords="697,550,652,533,603,520,545,512,499,510,393,520,312,534,311,529,393,515,498,505,545,506,604,515,654,528,699,545"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="222,580,308,607"/>
<area shape="poly" title=" " alt="" coords="692,573,308,594,308,588,692,568"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,327,572,353"/>
<area shape="poly" title=" " alt="" coords="726,542,707,504,679,459,644,413,602,374,566,356,569,351,605,370,648,410,684,456,711,501,731,539"/>
<area shape="poly" title=" " alt="" coords="378,788,184,767,137,759,137,754,185,761,378,783"/>
<area shape="poly" title=" " alt="" coords="415,843,305,820,184,789,105,762,107,757,185,784,306,815,416,838"/>
<area shape="poly" title=" " alt="" coords="406,901,297,875,239,856,183,832,128,796,85,761,89,757,131,792,186,827,241,851,299,870,407,896"/>
<area shape="poly" title=" " alt="" coords="420,963,365,955,303,942,241,921,183,892,146,861,115,824,77,760,81,758,120,821,150,857,186,887,243,916,305,937,366,950,421,957"/>
<area shape="poly" title=" " alt="" coords="479,517,391,367,271,153,276,150,395,364,483,515"/>
<area shape="poly" title=" " alt="" coords="460,566,407,594,346,621,300,637,298,632,344,616,404,589,458,561"/>
<area shape="poly" title=" " alt="" coords="475,569,419,621,384,648,346,672,314,685,312,681,344,667,381,644,416,617,471,566"/>
<area shape="poly" title=" " alt="" coords="418,528,293,501,294,495,419,523"/>
<area shape="poly" title=" " alt="" coords="401,545,311,545,311,540,401,540"/>
<area shape="poly" title=" " alt="" coords="419,563,309,587,308,582,418,557"/>
<area shape="poly" title=" " alt="" coords="217,659,186,672,133,703,91,734,88,729,130,699,183,667,215,654"/>
<area shape="poly" title=" " alt="" coords="203,714,126,734,124,729,202,708"/>
<area shape="poly" title=" " alt="" coords="222,501,203,509,186,519,162,544,141,572,109,634,89,691,78,732,73,731,84,689,104,632,137,569,158,541,183,515,201,504,220,496"/>
<area shape="poly" title=" " alt="" coords="205,559,186,570,147,610,116,656,94,699,80,733,75,731,89,697,111,653,143,606,183,566,203,554"/>
<area shape="poly" title=" " alt="" coords="208,610,186,621,153,648,123,679,83,733,79,730,119,675,149,644,183,616,206,605"/>
<area shape="poly" title=" " alt="" coords="890,22,831,13,742,8,652,13,538,31,537,25,651,8,742,3,832,8,891,17"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,23,810,49"/>
<area shape="poly" title=" " alt="" coords="875,39,811,39,811,33,875,33"/>
</map>
</div>

</div>
</div>
<a id="ga51d31ad5757c79b0f72f1e785115efed" name="ga51d31ad5757c79b0f72f1e785115efed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51d31ad5757c79b0f72f1e785115efed">&#9670;&#160;</a></span>write_port_from_shadow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool write_port_from_shadow </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>port_ab</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga51d31ad5757c79b0f72f1e785115efed_cgraph.png" border="0" usemap="#agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_cgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_cgraph" id="agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,169,32"/>
<area shape="rect" href="group__driver5.html#ga88ff03a249bfc75eaac4cab1d7955107" title=" " alt="" coords="217,5,276,32"/>
<area shape="poly" title=" " alt="" coords="169,16,201,16,201,21,169,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__driver5_ga51d31ad5757c79b0f72f1e785115efed_icgraph.png" border="0" usemap="#agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_icgraph" id="agroup__driver5_ga51d31ad5757c79b0f72f1e785115efed_icgraph">
<area shape="rect" title=" " alt="" coords="1269,695,1433,721"/>
<area shape="rect" href="group__driver5.html#gad23a5248f3f3fc671c373a437e16e985" title="Initializes the relay board&#39;s MCP23017." alt="" coords="1103,695,1221,721"/>
<area shape="poly" title=" " alt="" coords="1254,711,1222,711,1222,705,1254,705"/>
<area shape="rect" href="group__driver5.html#gabab90d2661d617d3ea609d7a3a5a9042" title="Atomically set/clear a group of bits on a given port from a mask." alt="" coords="883,872,1052,899"/>
<area shape="poly" title=" " alt="" coords="1315,732,1201,794,1130,830,1056,862,1023,874,1021,869,1054,858,1127,825,1199,790,1312,727"/>
<area shape="rect" href="group__driver5.html#ga1f2aea8f1cb5fb271e2b68ab119fa503" title="Writes a digital value to a specific MCP23017 pin. Uses shadowed whole&#45;port writes under a mutex to a..." alt="" coords="891,365,1044,392"/>
<area shape="poly" title=" " alt="" coords="1328,684,1284,628,1220,556,1141,480,1098,445,1054,413,1016,395,1019,390,1056,408,1102,440,1145,476,1224,553,1288,625,1333,680"/>
<area shape="rect" href="group__main03.html#gafe3a0b770057ac7103be4185e393395f" title="Initializes Core 0." alt="" coords="460,36,537,63"/>
<area shape="poly" title=" " alt="" coords="1138,684,1053,593,993,539,937,498,837,435,790,403,743,364,697,315,649,251,637,228,631,207,628,168,624,130,616,112,601,93,571,71,536,58,538,53,573,66,605,89,620,109,629,129,634,167,636,206,642,226,654,248,701,312,747,361,793,398,840,430,940,494,996,535,1057,589,1142,681"/>
<area shape="rect" href="group__driver5.html#gab5dab0ee57bf9b5391fbf6b96be35677" title="Reads the digital value from a specific MCP23017 pin." alt="" coords="666,1192,817,1219"/>
<area shape="poly" title=" " alt="" coords="1123,731,1056,761,1004,774,961,777,922,784,902,795,882,811,843,857,812,909,788,965,771,1021,752,1124,746,1192,741,1191,747,1123,766,1020,783,963,807,907,838,854,878,807,900,790,920,779,961,771,1003,768,1054,756,1120,726"/>
<area shape="rect" href="group__driver5.html#ga0fd18363fa5f18fddf814181b0a4c892" title="Reads a value from a specified MCP23017 register (guarded)." alt="" coords="892,821,1043,848"/>
<area shape="poly" title=" " alt="" coords="1141,734,1103,770,1056,805,1017,823,1015,818,1054,800,1100,766,1137,730"/>
<area shape="rect" href="group__driver5.html#ga39af0b095f233b2e5f7cddb401bd4f85" title="Re&#45;sync software shadows from hardware OLAT (optional utility)." alt="" coords="897,603,1038,645"/>
<area shape="poly" title=" " alt="" coords="1119,690,1054,660,1026,648,1028,644,1056,655,1121,685"/>
<area shape="rect" href="group__driver5.html#ga9c72d2272fc0f47e7444780804185ce1" title="Sets the direction of a specific MCP23017 pin." alt="" coords="880,720,1055,747"/>
<area shape="poly" title=" " alt="" coords="1088,720,1056,725,1055,719,1087,715"/>
<area shape="poly" title=" " alt="" coords="1145,735,1105,792,1085,830,1074,846,1057,862,1035,874,1033,869,1053,858,1070,843,1080,827,1101,789,1141,732"/>
<area shape="poly" title=" " alt="" coords="1149,681,1093,521,1053,412,1026,395,1029,390,1057,409,1098,519,1154,679"/>
<area shape="rect" href="group__driver5.html#ga125dff7e60af78727ec7d4377c472499" title="Writes a value to a specified MCP23017 register (guarded)." alt="" coords="890,669,1044,696"/>
<area shape="poly" title=" " alt="" coords="1087,701,1045,695,1045,690,1088,696"/>
<area shape="rect" href="group__main01.html#gae3fa85d0ce445e937670de85f9af490a" title="Global variable to trigger BOOTSEL mode." alt="" coords="23,87,119,113"/>
<area shape="poly" title=" " alt="" coords="444,54,325,62,185,77,120,90,119,85,184,72,325,56,444,49"/>
<area shape="rect" href="group__driver6.html#ga65d23685098ebf6b4f8bca89409a90ab" title="Compute full&#45;chip asymmetry mask (1 bits where relay!=display)." alt="" coords="404,1293,592,1320"/>
<area shape="poly" title=" " alt="" coords="663,1227,653,1233,638,1245,630,1258,620,1271,605,1284,579,1295,577,1290,602,1279,616,1267,625,1255,634,1241,650,1228,660,1223"/>
<area shape="rect" href="group__driver6.html#ga889bb68e8929772801ed4cf4836a801d" title="Write both MCPs for one pin only if needed, and report asymmetry." alt="" coords="443,1243,553,1269"/>
<area shape="poly" title=" " alt="" coords="659,1225,554,1247,553,1242,658,1220"/>
<area shape="rect" href="group__driver6.html#gace05145c93133aa7e479bec6c0613677" title="Write both MCPs for one pin only if needed, and report asymmetry, with logging." alt="" coords="415,1192,581,1219"/>
<area shape="poly" title=" " alt="" coords="651,1208,582,1208,582,1203,651,1203"/>
<area shape="rect" href="group__driver1.html#ga81a3ea6eb9a8a16aa49da9543e4f3bd4" title="Execute SET short&#45;press action: toggle the selected relay." alt="" coords="203,1471,327,1497"/>
<area shape="poly" title=" " alt="" coords="479,1334,424,1397,387,1431,346,1461,322,1472,320,1468,344,1456,384,1427,420,1394,475,1331"/>
<area shape="rect" href="group__webui1.html#ga204196bd085f7a778067392b56920c59" title="Handles the HTTP request for the control page. Uses set_relay_state_tag() for idempotent writes + log..." alt="" coords="187,1521,342,1548"/>
<area shape="poly" title=" " alt="" coords="486,1335,464,1374,433,1422,393,1470,347,1512,325,1523,322,1518,343,1507,390,1466,429,1419,460,1371,481,1332"/>
<area shape="rect" href="group__uart.html#gaba75c17603725c8ac0d758f31229b240" title="Handle UART SET_CH command. Uses set_relay_state_tag(&quot;UART&quot;, ...) to log who wrote." alt="" coords="198,948,332,991"/>
<area shape="poly" title=" " alt="" coords="394,1286,391,1283,367,1248,358,1213,358,1179,363,1144,369,1110,371,1075,363,1040,343,1004,330,993,334,989,347,1001,368,1038,376,1075,375,1110,369,1145,363,1179,363,1213,372,1246,395,1280,397,1282"/>
<area shape="rect" href="group__driver6.html#gae49e94d74eefe80449e590bf8798fb17" title="Periodic asymmetry guardian for the two MCP23017s." alt="" coords="185,1015,345,1041"/>
<area shape="poly" title=" " alt="" coords="394,1286,391,1283,371,1254,362,1226,362,1197,365,1168,369,1139,369,1111,362,1083,343,1055,329,1044,332,1040,347,1052,366,1081,374,1111,374,1140,371,1169,367,1197,367,1225,375,1252,395,1280,397,1282"/>
<area shape="rect" href="group__snmp2.html#gab580ecbc111f7cd62a6221c8c3cb2097" title="Set the state of all outlets (relays) OFF when val == 1." alt="" coords="227,1572,303,1599"/>
<area shape="poly" title=" " alt="" coords="490,1336,471,1385,440,1445,399,1508,374,1537,347,1562,326,1574,304,1582,302,1577,324,1569,343,1558,371,1533,395,1505,436,1443,466,1383,485,1334"/>
<area shape="rect" href="group__snmp2.html#ga02b1776dfb345252500b75e80306e42e" title="Turn all outlets on when val != 0." alt="" coords="227,1623,303,1649"/>
<area shape="poly" title=" " alt="" coords="493,1336,477,1394,448,1468,405,1545,378,1581,347,1613,326,1625,304,1633,302,1628,324,1621,343,1609,374,1578,401,1543,443,1466,471,1392,488,1334"/>
<area shape="rect" href="group__snmp2.html#gade035c518f601160052fdb2b9a9e07d8" title="Set the state of the outlet (relay) based on the input value." alt="" coords="203,1065,326,1092"/>
<area shape="poly" title=" " alt="" coords="394,1286,391,1283,374,1261,366,1238,366,1193,365,1149,358,1127,343,1106,326,1093,329,1089,347,1102,363,1125,371,1148,371,1193,371,1237,379,1258,395,1280,398,1282"/>
<area shape="rect" href="group__snmp2.html#gaaf4b3c8e88f82cff6c131736426720d2" title="Set the state of outlet 2 (relay) based on the input value." alt="" coords="203,1116,326,1143"/>
<area shape="poly" title=" " alt="" coords="396,1287,391,1283,378,1268,370,1251,366,1219,362,1187,355,1172,343,1157,326,1145,329,1140,347,1153,360,1169,367,1186,371,1218,375,1250,382,1265,395,1279,399,1283"/>
<area shape="rect" href="group__snmp2.html#gaba61710e5dc590d5c862562112d59338" title="Set the state of outlet 3 (relay) based on the input value." alt="" coords="203,1167,326,1193"/>
<area shape="poly" title=" " alt="" coords="399,1288,391,1283,374,1264,366,1245,359,1226,343,1207,324,1196,327,1192,347,1203,364,1223,371,1243,379,1262,395,1279,402,1284"/>
<area shape="rect" href="group__snmp2.html#gaf0d2f8746f0e3ef405ff4c684888a34b" title="Set the state of outlet 4 (relay) based on the input value." alt="" coords="203,1217,326,1244"/>
<area shape="poly" title=" " alt="" coords="414,1291,392,1284,368,1271,344,1258,313,1247,315,1242,346,1254,370,1267,394,1279,416,1286"/>
<area shape="rect" href="group__snmp2.html#ga06d40e363a3333a7e10223aaa792eef0" title="Set the state of outlet 5 (relay) based on the input value." alt="" coords="203,1268,326,1295"/>
<area shape="poly" title=" " alt="" coords="389,1297,327,1291,327,1285,389,1292"/>
<area shape="rect" href="group__snmp2.html#ga085a305fa41615e4791de5e3884226af" title="Set the state of outlet 6 (relay) based on the input value." alt="" coords="203,1319,326,1345"/>
<area shape="poly" title=" " alt="" coords="389,1321,327,1328,327,1323,389,1316"/>
<area shape="rect" href="group__snmp2.html#gac79033b7ad83d07369d0e2b5f4d49b9d" title="Set the state of outlet 7 (relay) based on the input value." alt="" coords="203,1369,326,1396"/>
<area shape="poly" title=" " alt="" coords="442,1328,346,1360,311,1371,309,1366,344,1355,440,1323"/>
<area shape="rect" href="group__snmp2.html#gabee06a703d75e5a63c2bde983c5fab2f" title="Set the state of outlet 8 (relay) based on the input value." alt="" coords="203,1420,326,1447"/>
<area shape="poly" title=" " alt="" coords="469,1332,414,1371,346,1410,318,1422,316,1417,344,1406,411,1367,466,1327"/>
<area shape="rect" href="group__uart.html#gaf78d8689607ba97d44d30e4e3fc56533" title="Parse and execute a received UART command string." alt="" coords="5,695,137,721"/>
<area shape="poly" title=" " alt="" coords="195,941,183,931,160,905,140,877,108,817,86,762,73,723,79,721,91,760,113,815,145,874,164,902,187,927,198,937"/>
<area shape="poly" title=" " alt="" coords="403,1225,395,1232,375,1260,367,1287,367,1315,371,1343,374,1372,374,1401,366,1431,347,1460,329,1474,326,1470,343,1457,362,1429,369,1401,369,1372,365,1344,362,1315,362,1286,371,1257,391,1229,400,1221"/>
<area shape="poly" title=" " alt="" coords="403,1225,395,1232,372,1266,364,1300,365,1334,370,1368,376,1403,378,1439,370,1475,347,1511,333,1523,329,1519,343,1508,365,1473,373,1438,371,1404,365,1369,359,1334,358,1299,367,1264,391,1229,400,1221"/>
<area shape="poly" title=" " alt="" coords="481,1180,427,1095,388,1047,343,1005,326,994,329,989,347,1001,392,1043,431,1092,485,1177"/>
<area shape="poly" title=" " alt="" coords="475,1181,420,1118,384,1085,344,1056,320,1044,322,1039,346,1051,387,1081,424,1115,479,1178"/>
<area shape="poly" title=" " alt="" coords="403,1225,395,1232,379,1253,369,1273,360,1313,362,1353,370,1393,379,1435,381,1476,373,1519,362,1540,347,1562,327,1577,304,1584,303,1579,325,1572,343,1558,358,1538,368,1517,376,1476,373,1435,365,1395,357,1354,354,1312,364,1271,375,1250,391,1229,400,1221"/>
<area shape="poly" title=" " alt="" coords="404,1225,395,1232,377,1256,365,1279,358,1302,356,1325,359,1372,370,1419,381,1466,385,1514,383,1538,376,1563,365,1588,347,1613,327,1627,304,1635,303,1630,325,1623,343,1609,360,1585,371,1561,377,1537,380,1514,375,1467,365,1420,354,1373,350,1325,353,1301,360,1277,373,1253,391,1229,400,1221"/>
<area shape="poly" title=" " alt="" coords="466,1184,411,1145,344,1106,316,1095,318,1090,346,1102,414,1141,469,1180"/>
<area shape="poly" title=" " alt="" coords="440,1189,344,1157,309,1146,311,1141,346,1152,442,1184"/>
<area shape="poly" title=" " alt="" coords="399,1197,327,1189,327,1184,400,1192"/>
<area shape="poly" title=" " alt="" coords="400,1219,327,1227,327,1221,399,1213"/>
<area shape="poly" title=" " alt="" coords="416,1226,394,1233,370,1245,346,1258,315,1270,313,1265,344,1254,368,1241,392,1228,414,1221"/>
<area shape="poly" title=" " alt="" coords="403,1228,395,1233,379,1250,371,1269,364,1289,347,1309,327,1320,324,1316,343,1305,359,1286,366,1267,374,1248,391,1229,400,1223"/>
<area shape="poly" title=" " alt="" coords="403,1226,395,1233,382,1247,375,1262,371,1294,367,1326,360,1343,347,1359,329,1372,326,1367,343,1355,355,1340,362,1325,366,1293,370,1261,378,1244,391,1229,400,1222"/>
<area shape="poly" title=" " alt="" coords="403,1226,395,1233,379,1253,371,1275,371,1319,371,1364,363,1387,347,1410,329,1423,326,1419,343,1406,358,1385,365,1363,366,1319,366,1274,374,1251,391,1229,400,1222"/>
<area shape="rect" href="group__driver6.html#ga7f5d7a9f6239ad2bdd32a6c5bbb2396d" title="Resynchronize both MCP23017 shadow latches from hardware OLAT registers." alt="" coords="651,619,832,645"/>
<area shape="poly" title=" " alt="" coords="882,630,832,631,832,626,881,624"/>
<area shape="rect" href="group__driver6.html#ga0f044ade72bf35d0f080db7ecb4d114c" title="Configure pin direction on both MCP23017 chips." alt="" coords="662,720,821,747"/>
<area shape="poly" title=" " alt="" coords="864,736,821,736,821,731,864,731"/>
<area shape="rect" href="group__driver6.html#ga881bcc923a6be895363969bbff79dc1e" title="Atomically write a masked group of bits on both MCP23017 chips." alt="" coords="666,1243,817,1269"/>
<area shape="poly" title=" " alt="" coords="966,915,956,980,933,1065,916,1111,894,1155,867,1196,833,1233,816,1244,813,1240,830,1229,862,1193,889,1152,911,1109,928,1064,950,979,961,914"/>
<area shape="poly" title=" " alt="" coords="941,356,886,301,805,228,708,151,656,115,602,84,569,70,537,60,538,55,571,65,605,79,659,111,711,147,809,224,889,297,945,352"/>
<area shape="rect" href="group__main03.html#ga4f6be798db44b5ed4b9b12eeb705f6e9" title="Initializes Core 1." alt="" coords="226,87,304,113"/>
<area shape="poly" title=" " alt="" coords="952,352,905,262,871,210,830,162,775,110,727,75,674,49,603,27,545,13,498,8,452,13,394,27,362,39,331,55,284,88,281,84,328,50,359,34,392,21,451,7,498,3,546,7,604,21,676,44,730,70,778,106,834,158,875,206,910,259,957,350"/>
<area shape="rect" href="group__driver6.html#gaea03923bde53674db77e1e4428b0e912" title="Write a digital value to a pin on both MCP23017 chips." alt="" coords="673,568,810,595"/>
<area shape="poly" title=" " alt="" coords="955,407,935,442,908,482,874,523,833,558,811,570,808,565,830,554,870,520,904,479,931,439,950,405"/>
<area shape="rect" href="group__util2.html#gae73b9c33649b5f5f7388f1b4fe42d32d" title="Sets the error state on the display." alt="" coords="708,517,775,544"/>
<area shape="poly" title=" " alt="" coords="935,403,764,519,761,515,932,398"/>
<area shape="poly" title=" " alt="" coords="211,103,120,103,120,97,211,97"/>
<area shape="poly" title=" " alt="" coords="662,600,653,608,640,631,630,661,622,735,624,823,631,919,638,1015,639,1104,630,1178,620,1208,605,1232,582,1250,554,1258,553,1253,580,1245,601,1229,615,1206,625,1177,634,1103,632,1015,625,919,619,824,617,735,625,659,635,629,649,605,658,596"/>
<area shape="poly" title=" " alt="" coords="662,601,653,608,643,624,635,644,624,694,620,755,619,820,619,950,615,1005,606,1047,586,1092,560,1133,514,1193,510,1190,556,1130,581,1090,601,1046,610,1004,613,949,613,820,614,754,619,694,630,643,638,622,649,605,658,597"/>
<area shape="poly" title=" " alt="" coords="692,526,669,517,649,500,631,473,618,445,611,419,609,392,614,340,626,288,638,237,642,187,640,161,632,135,620,109,601,83,588,71,572,63,537,54,538,48,574,58,591,67,605,80,625,107,637,134,645,160,648,187,643,238,631,290,619,341,614,392,617,418,623,444,635,470,653,497,671,512,694,521"/>
<area shape="poly" title=" " alt="" coords="692,530,670,524,650,513,631,492,624,470,617,449,601,427,575,405,550,390,502,372,452,358,392,330,299,272,211,210,88,116,91,112,214,206,302,268,394,326,454,353,504,367,552,385,578,401,605,423,622,446,629,468,636,489,653,509,672,519,693,525"/>
<area shape="poly" title=" " alt="" coords="693,536,671,544,653,558,636,583,624,608,618,633,616,658,622,708,635,759,648,809,652,858,649,883,640,907,626,931,605,954,575,976,542,991,506,1000,469,1005,396,1002,332,991,333,986,397,997,469,999,505,995,540,986,573,971,602,950,622,928,635,905,643,881,647,858,642,810,630,760,617,709,611,658,613,632,619,606,631,580,649,554,669,539,692,531"/>
<area shape="poly" title=" " alt="" coords="693,539,672,547,653,558,643,569,636,581,631,606,625,631,617,643,605,654,568,672,518,685,457,695,390,703,252,710,137,711,137,706,252,705,389,697,456,690,516,680,566,667,602,650,613,640,620,629,626,605,631,579,638,566,650,554,670,542,692,534"/>
<area shape="poly" title=" " alt="" coords="693,536,671,544,653,558,643,574,636,595,629,650,630,715,633,785,636,855,635,919,626,972,618,994,605,1010,573,1034,536,1050,497,1059,456,1062,378,1058,313,1045,314,1039,379,1052,456,1057,496,1054,535,1045,570,1029,601,1006,613,991,621,971,630,919,631,855,628,785,624,715,624,649,631,594,638,572,649,554,669,539,692,531"/>
<area shape="poly" title=" " alt="" coords="692,526,669,517,649,500,633,476,622,451,616,426,614,401,620,353,631,306,642,259,645,214,641,192,634,170,621,149,602,127,581,115,549,106,467,97,378,96,304,100,304,94,378,91,467,92,550,101,583,110,605,123,625,145,638,168,646,191,650,214,647,260,636,307,625,354,619,402,621,425,627,449,637,473,653,497,672,512,694,521"/>
<area shape="rect" href="group__driver1.html#ga6d0167c68ada9e8d950bd5e4968b401b" title="Execute SET long&#45;press action: clear the error LED." alt="" coords="438,137,558,164"/>
<area shape="poly" title=" " alt="" coords="692,526,669,516,649,500,634,479,624,458,616,416,619,375,627,335,635,295,636,256,627,217,617,197,601,178,581,163,557,155,559,150,584,159,605,174,621,195,632,215,642,256,640,296,632,336,624,376,621,416,629,456,639,476,653,497,672,512,694,521"/>
<area shape="rect" href="group__util1.html#ga997f3d6e141a711fa6f969fc16edc7ce" title="Reads and validates factory defaults stored in EEPROM. If any section is invalid, it restores the def..." alt="" coords="393,188,603,215"/>
<area shape="poly" title=" " alt="" coords="691,526,669,516,649,500,628,465,620,429,621,395,627,361,632,327,632,294,624,261,601,228,587,217,590,213,605,225,629,259,638,293,637,328,632,361,626,395,625,429,632,463,653,497,671,512,693,521"/>
<area shape="rect" href="group__util1.html#ga6dadd32bf70e8ea2569da7d4bbb02e0a" title="Writes factory default settings to EEPROM." alt="" coords="394,745,603,772"/>
<area shape="poly" title=" " alt="" coords="694,538,672,545,653,558,638,578,631,599,630,641,629,685,621,707,605,729,578,747,575,742,601,725,617,704,624,684,624,641,625,598,633,576,649,554,669,540,692,533"/>
<area shape="rect" href="group__uart.html#ga5ece76769b8fd390a2b6133fa234a706" title="Handle UART GET_CH command." alt="" coords="431,796,565,839"/>
<area shape="poly" title=" " alt="" coords="694,537,672,545,653,558,634,586,626,613,626,641,630,669,633,698,633,727,625,756,605,786,588,800,567,810,565,805,585,796,601,782,620,754,628,726,628,698,624,670,621,641,621,612,629,583,649,554,669,540,692,532"/>
<area shape="rect" href="group__uart.html#gaa0cfe9fea91a783744a3ef36f146da0a" title="Read and print HLW8032 sensor values for a specific channel." alt="" coords="422,863,575,889"/>
<area shape="poly" title=" " alt="" coords="693,537,671,544,653,558,630,594,622,630,624,667,631,703,638,740,639,778,630,815,605,852,592,864,576,871,574,866,589,859,601,849,625,813,634,777,632,741,625,704,618,667,617,630,625,592,649,554,669,540,692,532"/>
<area shape="rect" href="group__uart.html#ga900a7219fe90e05fa69922b219cd6cfd" title="Read and print HLW8032 sensor values for all channels." alt="" coords="436,913,561,940"/>
<area shape="poly" title=" " alt="" coords="693,537,671,544,653,558,637,579,627,601,618,643,622,686,631,729,640,772,643,816,634,859,622,881,605,903,585,918,562,926,560,921,583,913,601,899,618,878,629,857,638,815,635,773,626,730,616,687,613,643,622,599,633,576,649,554,669,540,691,532"/>
<area shape="rect" href="group__webui3.html#ga996c29d0b637d4303afe35bf140bb4cb" title="Initializes the HTTP server." alt="" coords="443,239,553,265"/>
<area shape="poly" title=" " alt="" coords="692,525,669,516,649,500,631,471,623,443,623,414,626,386,629,359,629,332,620,306,601,279,579,264,553,257,555,251,582,259,605,275,625,303,634,331,635,359,631,387,628,415,628,442,636,469,653,497,672,511,694,521"/>
<area shape="rect" href="group__util1.html#ga37c460b3ea58fd130cea86904b06f7b1" title="Loads user network configuration from EEPROM." alt="" coords="416,492,580,519"/>
<area shape="poly" title=" " alt="" coords="692,528,580,517,581,511,692,523"/>
<area shape="rect" href="group__uart.html#ga0861a9960c0f8e70f10272158aa9c937" title="Set the DNS server address and reconfigure network." alt="" coords="231,593,298,620"/>
<area shape="poly" title=" " alt="" coords="693,542,604,557,299,604,298,599,603,552,692,537"/>
<area shape="rect" href="group__uart.html#ga7d7af9628af84c182e9978c253c5bf14" title="Set the gateway address and reconfigure network." alt="" coords="217,644,312,671"/>
<area shape="poly" title=" " alt="" coords="694,543,653,558,639,567,629,577,619,587,604,596,527,623,447,642,373,653,313,658,313,653,373,647,446,637,526,618,602,591,616,582,626,573,635,563,650,554,692,538"/>
<area shape="rect" href="group__uart.html#ga387b6d0d56433cf41937ae4721c0ddbf" title="Set the device IP address and reconfigure network." alt="" coords="237,441,293,468"/>
<area shape="poly" title=" " alt="" coords="692,520,650,501,635,489,626,477,617,467,602,458,561,446,517,438,430,435,352,441,294,451,293,446,351,436,430,430,518,433,562,441,604,454,620,463,630,474,639,485,653,496,694,515"/>
<area shape="rect" href="group__uart.html#ga63f75ffc96f9e37736f5d65e4c845616" title="Set full network configuration (IP, subnet, gateway, DNS)." alt="" coords="219,492,311,519"/>
<area shape="poly" title=" " alt="" coords="692,516,650,501,627,490,603,483,545,474,499,473,393,483,312,497,311,491,393,477,499,467,545,469,604,477,629,485,652,496,694,511"/>
<area shape="rect" href="group__uart.html#ga7b9dad04ce3e7c959f434dfc503b22f4" title="Set the subnet mask and reconfigure network." alt="" coords="222,543,308,569"/>
<area shape="poly" title=" " alt="" coords="692,536,308,556,308,551,692,531"/>
<area shape="rect" href="group__util1.html#gada0abcfc99e366656030e908187d6d6d" title="Loads user preferences from EEPROM." alt="" coords="424,289,572,316"/>
<area shape="poly" title=" " alt="" coords="692,525,669,515,649,501,634,479,627,458,625,416,623,376,616,356,601,337,587,326,571,317,573,313,590,321,605,333,621,354,629,375,630,416,632,457,639,477,653,497,672,511,694,520"/>
<area shape="poly" title=" " alt="" coords="378,751,184,729,137,722,137,717,185,724,378,746"/>
<area shape="poly" title=" " alt="" coords="415,805,305,783,184,752,105,724,107,719,185,747,306,777,416,800"/>
<area shape="poly" title=" " alt="" coords="406,864,297,838,239,818,183,794,128,759,85,724,89,720,131,755,186,790,241,813,299,832,407,859"/>
<area shape="poly" title=" " alt="" coords="420,925,365,918,303,905,241,884,183,854,146,823,115,786,77,723,81,720,120,783,150,819,186,850,243,879,305,899,366,912,421,920"/>
<area shape="poly" title=" " alt="" coords="479,480,391,329,271,115,276,113,395,327,483,477"/>
<area shape="poly" title=" " alt="" coords="460,529,407,556,346,584,300,600,298,595,344,579,404,551,458,524"/>
<area shape="poly" title=" " alt="" coords="475,532,419,583,384,610,346,634,314,648,312,643,344,630,381,606,416,579,471,528"/>
<area shape="poly" title=" " alt="" coords="418,491,293,463,294,458,419,485"/>
<area shape="poly" title=" " alt="" coords="401,508,311,508,311,503,401,503"/>
<area shape="poly" title=" " alt="" coords="419,525,309,549,308,544,418,520"/>
<area shape="poly" title=" " alt="" coords="217,622,186,634,133,666,91,696,88,692,130,661,183,630,215,617"/>
<area shape="poly" title=" " alt="" coords="203,676,126,697,124,691,202,671"/>
<area shape="poly" title=" " alt="" coords="222,464,203,471,186,482,162,507,141,535,109,596,89,654,78,695,73,694,84,652,104,594,137,532,158,503,183,478,201,466,220,459"/>
<area shape="poly" title=" " alt="" coords="205,522,186,533,147,572,116,618,94,662,80,695,75,693,89,660,111,616,143,569,183,529,203,517"/>
<area shape="poly" title=" " alt="" coords="208,572,186,584,153,610,123,642,83,696,79,693,119,638,149,606,183,579,206,568"/>
<area shape="poly" title=" " alt="" coords="882,663,878,659,863,640,855,620,853,582,851,544,844,526,830,507,808,491,786,483,739,481,716,481,693,478,671,469,649,450,633,427,621,403,612,358,614,314,623,270,632,227,635,183,627,138,617,115,601,92,588,79,572,69,537,57,538,52,574,65,591,75,605,89,621,113,632,136,641,182,637,227,628,271,620,315,617,358,626,402,637,424,653,446,674,464,695,473,717,476,740,476,787,478,810,486,834,503,848,523,856,543,858,581,860,619,867,637,882,656,885,659"/>
<area shape="rect" href="group__driver6.html#gac00aa0678cb81d6bb6add9d0f8ab0de4" title="Write a value to a register on both MCP23017 chips." alt="" coords="673,669,810,696"/>
<area shape="poly" title=" " alt="" coords="875,685,811,685,811,680,875,680"/>
</map>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ga1b35c1a632e4bd7e072175f861c1cd6e" name="ga1b35c1a632e4bd7e072175f861c1cd6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b35c1a632e4bd7e072175f861c1cd6e">&#9670;&#160;</a></span>s_inited</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool s_inited = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf4582ca5e22486b19316b310c5e90124" name="gaf4582ca5e22486b19316b310c5e90124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4582ca5e22486b19316b310c5e90124">&#9670;&#160;</a></span>s_olat_a</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t s_olat_a = 0x00</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga7192108d9b47ef396b9bba205be98fcf" name="ga7192108d9b47ef396b9bba205be98fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7192108d9b47ef396b9bba205be98fcf">&#9670;&#160;</a></span>s_olat_b</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t s_olat_b = 0x00</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gac07c4c87ed47ec4ac2029dbc606f7ff8" name="gac07c4c87ed47ec4ac2029dbc606f7ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac07c4c87ed47ec4ac2029dbc606f7ff8">&#9670;&#160;</a></span>s_relay_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mutex_t s_relay_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
